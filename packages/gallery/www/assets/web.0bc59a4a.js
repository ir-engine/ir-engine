import{W as v}from"./index.8264432f.js";import"./vendor.2a83d1c9.js";import"./_app.41131035.js";import"./index.b1c16674.js";import"./PopupsStateService.ba82c5f8.js";import"./capitalize.75c82fb0.js";import"./upload.d8a16837.js";import"./Slide.79bdeba3.js";import"./Paper.678a179e.js";import"./Typography.a1510182.js";import"./Modal.22c32aef.js";import"./Dialog.4b91e65c.js";import"./Backdrop.311b8a3e.js";import"./Button.11e5af54.js";import"./makeStyles.39fa1a38.js";import"./Avatar.a262805b.js";var i=function(l,o,e,t){function u(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function r(c){try{a(t.next(c))}catch(d){s(d)}}function p(c){try{a(t.throw(c))}catch(d){s(d)}}function a(c){c.done?n(c.value):u(c.value).then(r,p)}a((t=t.apply(l,o||[])).next())})};class M extends v{constructor(){super({name:"XRPlugin",platforms:["web"]})}initialize(o){return i(this,void 0,void 0,function*(){return console.log("Initialize called to plugin on web"),new Promise((e,t)=>{e({status:"web"})})})}start(o){return i(this,void 0,void 0,function*(){return new Promise((e,t)=>{navigator.mediaDevices.getUserMedia({audio:!o.disableAudio,video:!0});const u=document.getElementById("video"),n=o.parent?document.getElementById(o.parent):document.body;if(u)t({message:"camera already started"});else{const s=document.createElement("video");s.id="video",s.setAttribute("class",o.className||""),s.setAttribute("style","-webkit-transform: scaleX(-1); transform: scaleX(-1);"),n.appendChild(s),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(function(r){s.srcObject=r,s.play(),e({})},r=>{t(r)})}})})}handleTap(){return i(this,void 0,void 0,function*(){})}stop(){return i(this,void 0,void 0,function*(){const o=document.getElementById("video");if(o){o.pause();const n=o.srcObject.getTracks();for(var e=0;e<n.length;e++){var t=n[e];t.stop()}o.remove()}})}transcodeVideo(o){return i(this,void 0,void 0,function*(){return new Promise((e,t)=>{e({status:"success",path:""})})})}createThumbnail(o){return i(this,void 0,void 0,function*(){return new Promise((e,t)=>{e({status:"success",path:""})})})}trim(o){return i(this,void 0,void 0,function*(){return new Promise((e,t)=>{e({status:"success",path:""})})})}getVideoInfo(){return i(this,void 0,void 0,function*(){return new Promise((o,e)=>{o({status:"success"})})})}execFFMPEG(o){return i(this,void 0,void 0,function*(){return console.log("execFFMPEG called to plugin on web"),new Promise((e,t)=>{e({status:"success"})})})}execFFPROBE(o){return i(this,void 0,void 0,function*(){return console.log("execFFPROBE called to plugin on web"),new Promise((e,t)=>{e({status:"success"})})})}getXRDataForFrame(o){return i(this,void 0,void 0,function*(){return console.log("getXRDataForFrame called to plugin on web"),new Promise((e,t)=>{e({data:{hasData:!1}})})})}startRecording(o,e,t,u,n,s){return i(this,void 0,void 0,function*(){return console.log("startRecording called to plugin on web"),new Promise((r,p)=>{r({status:"success"})})})}stopRecording(o){return i(this,void 0,void 0,function*(){return console.log("stopRecording called to plugin on web"),new Promise((e,t)=>{e({result:"success",filePath:""})})})}getRecordingStatus(o){return i(this,void 0,void 0,function*(){return console.log("getRecordingStatus called to plugin on web"),new Promise((e,t)=>{e({status:"success"})})})}takePhoto(o){return i(this,void 0,void 0,function*(){return console.log("takePhoto called to plugin on web"),new Promise((e,t)=>{e({status:"success"})})})}saveRecordingToVideo(o){return i(this,void 0,void 0,function*(){return console.log("saveRecordingToVideo called to plugin on web"),new Promise((e,t)=>{e({status:"success"})})})}shareMedia(o){return i(this,void 0,void 0,function*(){return console.log("shareMedia called to plugin on web"),new Promise((e,t)=>{e({status:"success"})})})}showVideo(o){return i(this,void 0,void 0,function*(){return console.log("showVideo called to plugin on web"),new Promise((e,t)=>{e({status:"success"})})})}hideVideo(o){return i(this,void 0,void 0,function*(){return console.log("showVideo called to plugin on web"),new Promise((e,t)=>{e({status:"success"})})})}playVideo(o){return i(this,void 0,void 0,function*(){return console.log("playVideo called to plugin on web"),new Promise((e,t)=>{e({status:"success"})})})}pauseVideo(o){return i(this,void 0,void 0,function*(){return console.log("pauseVideo called to plugin on web"),new Promise((e,t)=>{e({status:"success"})})})}scrubTo(o){return i(this,void 0,void 0,function*(){return console.log("scrubTo called to plugin on web"),new Promise((e,t)=>{e({status:"success"})})})}deleteVideo(o){return i(this,void 0,void 0,function*(){return console.log("deleteVideo called to plugin on web"),new Promise((e,t)=>{e({status:"success"})})})}saveVideoTo(o){return i(this,void 0,void 0,function*(){return console.log("saveVideoTo called to plugin on web"),new Promise((e,t)=>{e({status:"success"})})})}clearAnchors(){}}export{M as XRPluginWeb};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViLjBiYzU5YTRhLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvd2VieHItbmF0aXZlL2Rpc3Qvd2ViLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgV2ViUGx1Z2luIH0gZnJvbSAnQGNhcGFjaXRvci9jb3JlJztcbmV4cG9ydCBjbGFzcyBYUlBsdWdpbldlYiBleHRlbmRzIFdlYlBsdWdpbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6ICdYUlBsdWdpbicsXG4gICAgICAgICAgICBwbGF0Zm9ybXM6IFsnd2ViJ10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbml0aWFsaXplKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW5pdGlhbGl6ZSBjYWxsZWQgdG8gcGx1Z2luIG9uIHdlYlwiKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgXykgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdGF0dXM6IFwid2ViXCIgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXJ0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAgICAgICAgICAgICBhdWRpbzogIW9wdGlvbnMuZGlzYWJsZUF1ZGlvLFxuICAgICAgICAgICAgICAgICAgICB2aWRlbzogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb1wiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBvcHRpb25zLnBhcmVudCA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9wdGlvbnMucGFyZW50KSA6IGRvY3VtZW50LmJvZHk7XG4gICAgICAgICAgICAgICAgaWYgKCF2aWRlbykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5pZCA9IFwidmlkZW9cIjtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIG9wdGlvbnMuY2xhc3NOYW1lIHx8IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCItd2Via2l0LXRyYW5zZm9ybTogc2NhbGVYKC0xKTsgdHJhbnNmb3JtOiBzY2FsZVgoLTEpO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHZpZGVvRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3QgYWRkaW5nIGB7IGF1ZGlvOiB0cnVlIH1gIHNpbmNlIHdlIG9ubHkgd2FudCB2aWRlbyBub3dcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgdmlkZW86IHRydWUgfSkudGhlbihmdW5jdGlvbiAoc3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy92aWRlby5zcmMgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoeyBtZXNzYWdlOiBcImNhbWVyYSBhbHJlYWR5IHN0YXJ0ZWRcIiB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZVRhcCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCB2aWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlkZW9cIik7XG4gICAgICAgICAgICBpZiAodmlkZW8pIHtcbiAgICAgICAgICAgICAgICB2aWRlby5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ID0gdmlkZW8uc3JjT2JqZWN0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrcyA9IHN0LmdldFRyYWNrcygpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFjayA9IHRyYWNrc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aWRlby5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRyYW5zY29kZVZpZGVvKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN0YXR1czogXCJzdWNjZXNzXCIsIHBhdGg6IFwiXCIgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIDtcbiAgICBjcmVhdGVUaHVtYm5haWwob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgcGF0aDogXCJcIiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgO1xuICAgIHRyaW0ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgcGF0aDogXCJcIiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgO1xuICAgIGdldFZpZGVvSW5mbygpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN0YXR1czogXCJzdWNjZXNzXCIgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIDtcbiAgICBleGVjRkZNUEVHKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXhlY0ZGTVBFRyBjYWxsZWQgdG8gcGx1Z2luIG9uIHdlYlwiKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN0YXR1czogXCJzdWNjZXNzXCIgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGV4ZWNGRlBST0JFKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXhlY0ZGUFJPQkUgY2FsbGVkIHRvIHBsdWdpbiBvbiB3ZWJcIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdGF0dXM6IFwic3VjY2Vzc1wiIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRYUkRhdGFGb3JGcmFtZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImdldFhSRGF0YUZvckZyYW1lIGNhbGxlZCB0byBwbHVnaW4gb24gd2ViXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgZGF0YTogeyBoYXNEYXRhOiBmYWxzZSB9IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGFydFJlY29yZGluZyhpc0F1ZGlvLCB3aWR0aCwgaGVpZ2h0LCBiaXRSYXRlLCBkcGksIGZpbGVQYXRoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0YXJ0UmVjb3JkaW5nIGNhbGxlZCB0byBwbHVnaW4gb24gd2ViXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RvcFJlY29yZGluZyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0b3BSZWNvcmRpbmcgY2FsbGVkIHRvIHBsdWdpbiBvbiB3ZWJcIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeyByZXN1bHQ6IFwic3VjY2Vzc1wiLCBmaWxlUGF0aDogXCJcIiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0UmVjb3JkaW5nU3RhdHVzKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0UmVjb3JkaW5nU3RhdHVzIGNhbGxlZCB0byBwbHVnaW4gb24gd2ViXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdGFrZVBob3RvKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidGFrZVBob3RvIGNhbGxlZCB0byBwbHVnaW4gb24gd2ViXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2F2ZVJlY29yZGluZ1RvVmlkZW8ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzYXZlUmVjb3JkaW5nVG9WaWRlbyBjYWxsZWQgdG8gcGx1Z2luIG9uIHdlYlwiKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN0YXR1czogXCJzdWNjZXNzXCIgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNoYXJlTWVkaWEob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzaGFyZU1lZGlhIGNhbGxlZCB0byBwbHVnaW4gb24gd2ViXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2hvd1ZpZGVvKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2hvd1ZpZGVvIGNhbGxlZCB0byBwbHVnaW4gb24gd2ViXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGlkZVZpZGVvKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2hvd1ZpZGVvIGNhbGxlZCB0byBwbHVnaW4gb24gd2ViXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGxheVZpZGVvKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGxheVZpZGVvIGNhbGxlZCB0byBwbHVnaW4gb24gd2ViXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGF1c2VWaWRlbyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInBhdXNlVmlkZW8gY2FsbGVkIHRvIHBsdWdpbiBvbiB3ZWJcIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdGF0dXM6IFwic3VjY2Vzc1wiIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzY3J1YlRvKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2NydWJUbyBjYWxsZWQgdG8gcGx1Z2luIG9uIHdlYlwiKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN0YXR1czogXCJzdWNjZXNzXCIgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlbGV0ZVZpZGVvKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZGVsZXRlVmlkZW8gY2FsbGVkIHRvIHBsdWdpbiBvbiB3ZWJcIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeyBzdGF0dXM6IFwic3VjY2Vzc1wiIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzYXZlVmlkZW9UbyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNhdmVWaWRlb1RvIGNhbGxlZCB0byBwbHVnaW4gb24gd2ViXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2xlYXJBbmNob3JzKCkge1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdlYi5qcy5tYXAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IitlQUFBLEdBQUksR0FBd0MsU0FBVSxFQUFTLEVBQVksRUFBRyxFQUFXLENBQ3JGLFdBQWUsRUFBTyxDQUFFLE1BQU8sYUFBaUIsR0FBSSxFQUFRLEdBQUksR0FBRSxTQUFVLEVBQVMsQ0FBRSxFQUFRLEtBQy9GLE1BQU8sSUFBSyxJQUFNLEdBQUksVUFBVSxTQUFVLEVBQVMsRUFBUSxDQUN2RCxXQUFtQixFQUFPLENBQUUsR0FBSSxDQUFFLEVBQUssRUFBVSxLQUFLLFVBQWtCLEVBQVAsQ0FBWSxFQUFPLElBQ3BGLFdBQWtCLEVBQU8sQ0FBRSxHQUFJLENBQUUsRUFBSyxFQUFVLE1BQVMsVUFB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
