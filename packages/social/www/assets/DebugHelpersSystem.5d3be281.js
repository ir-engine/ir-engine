import{B as H,M as T,c3 as ae,a3 as A,j as L,g as X,G as Z,b_ as ce,$ as he,a5 as le,h as R,V as _,o as F,ag as $,Q as V,p as J,bi as de,bz as D,ay as pe,c1 as O,a0 as ue,ak as fe,c4 as me,b$ as ye}from"./three.module.0404e109.js";import{c as ge,J as xe,E as y,b as I,d as B,A as j,g as S}from"./avatarFunctions.c7a0e273.js";import{R as we,S as ve,U as K,W as ee,Y as be,C as k,X as te,Z as _e,h as oe,V as Ae,q as Se,O as Me}from"./[projectId].d5e44847.js";import{B as se}from"./BoundingBoxComponent.dd52b507.js";import{T as U}from"./SystemUpdateType.4e88f289.js";import"./index.0040ebb6.js";import"./vendor.c8b8cc93.js";import"./_app.009e96ac.js";import"./AuthService.6db25508.js";import"./AlertService.bfed2141.js";import"./feathers.081246a7.js";import"./index.9af95596.js";import"./upload.38e3baaf.js";function Ee(f){const n=f.regions,h=new H,l=new T({vertexColors:ae}),c=new A(h,l),g=[],w=[],d=new L;for(let x of n){d.setHex(Math.random()*16777215);let m=x.edge;const b=[];do b.push(m),m=m.next;while(m!==x.edge);const o=b.length-2;for(let t=1,e=o;t<=e;t++){const s=b[0].vertex,i=b[t+0].vertex,r=b[t+1].vertex;g.push(s.x,s.y,s.z),g.push(i.x,i.y,i.z),g.push(r.x,r.y,r.z),w.push(d.r,d.g,d.b),w.push(d.r,d.g,d.b),w.push(d.r,d.g,d.b)}}return h.addAttribute("position",new X(g,3)),h.addAttribute("color",new X(w,3)),c}function Ce(f,n=1,h=5145796,l=16777215){const c=new Z,g=new T({color:h}),w=new ce(n,2),d=[];f.getNodes(d);for(let e of d){const s=new A(w,g);s.position.copy(e.position),s.userData.nodeIndex=e.index,s.matrixAutoUpdate=!1,s.updateMatrix(),c.add(s)}const x=new H,m=[],b=new he({color:l}),o=[];for(let e of d){f.getEdgesOfNode(e.index,o);for(let s of o){const i=f.getNode(s.from),r=f.getNode(s.to);m.push(i.position.x,i.position.y,i.position.z),m.push(r.position.x,r.position.y,r.position.z)}}x.setAttribute("position",new X(m,3));const t=new le(x,b);return t.matrixAutoUpdate=!1,c.add(t),c}const Q=ge("DebugArrowComponent");class Y extends H{parameters;radiusTop;radiusBottom;height;radialSegments;heightSegments;capsTopSegments;capsBottomSegments;thetaStart;thetaLength;alpha;eqRadii;vertexCount;indexCount;indices;vertices;normals;uvs;_index=0;_halfHeight=0;_indexArray=[];_indexOffset=0;constructor(n,h,l,c,g,w,d,x,m){super();this.type="CapsuleBufferGeometry",this.parameters={radiusTop:n,radiusBottom:h,height:l,radialSegments:c,heightSegments:g,thetaStart:x,thetaLength:m},this.radiusTop=n!==void 0?n:.25,this.radiusBottom=h!==void 0?h:.25,this.height=l!==void 0?l:1,this.radialSegments=Math.floor(c??8),this.heightSegments=Math.floor(g??1),this.capsTopSegments=Math.floor(w??2),this.capsBottomSegments=Math.floor(d??2),this.thetaStart=x!==void 0?x:0,this.thetaLength=m!==void 0?m:2*Math.PI,this.alpha=Math.acos((this.radiusBottom-this.radiusTop)/this.height),this.eqRadii=this.radiusTop-this.radiusBottom==0,this.vertexCount=this.calculateVertexCount(),this.indexCount=this.calculateIndexCount(),this.indices=new R(new(this.indexCount>65535?Uint32Array:Uint16Array)(this.indexCount),1),this.vertices=new R(new Float32Array(this.vertexCount*3),3),this.normals=new R(new Float32Array(this.vertexCount*3),3),this.uvs=new R(new Float32Array(this.vertexCount*2),2),this._halfHeight=this.height/2,this.generateTorso(),this.setIndex(this.indices),this.setAttribute("position",this.vertices),this.setAttribute("normal",this.normals),this.setAttribute("uv",this.uvs)}calculateVertexCount(){return(this.radialSegments+1)*(this.heightSegments+1+this.capsBottomSegments+this.capsTopSegments)}calculateIndexCount(){return this.radialSegments*(this.heightSegments+this.capsBottomSegments+this.capsTopSegments)*2*3}generateTorso(){let n,h;const l=new _,c=new _,g=Math.cos(this.alpha),w=Math.sin(this.alpha),d=new F(this.radiusTop*w,this._halfHeight+this.radiusTop*g).sub(new F(this.radiusBottom*w,-this._halfHeight+this.radiusBottom*g)).length(),x=this.radiusTop*this.alpha+d+this.radiusBottom*(Math.PI/2-this.alpha);let m=0;for(h=0;h<=this.capsTopSegments;h++){const t=[],e=Math.PI/2-this.alpha*(h/this.capsTopSegments);m+=this.radiusTop*this.alpha/this.capsTopSegments;const s=Math.cos(e),i=Math.sin(e),r=s*this.radiusTop;for(n=0;n<=this.radialSegments;n++){const a=n/this.radialSegments,u=a*this.thetaLength+this.thetaStart,p=Math.sin(u),v=Math.cos(u);c.x=r*p,c.y=this._halfHeight+i*this.radiusTop,c.z=r*v,this.vertices.setXYZ(this._index,c.x,c.y,c.z),l.set(s*p,i,s*v),this.normals.setXYZ(this._index,l.x,l.y,l.z),this.uvs.setXY(this._index,a,1-m/x),t.push(this._index),this._index++}this._indexArray.push(t)}const b=this.height+g*this.radiusTop-g*this.radiusBottom,o=w*(this.radiusBottom-this.radiusTop)/b;for(h=1;h<=this.heightSegments;h++){const t=[];m+=d/this.heightSegments;const e=w*(h*(this.radiusBottom-this.radiusTop)/this.heightSegments+this.radiusTop);for(n=0;n<=this.radialSegments;n++){const s=n/this.radialSegments,i=s*this.thetaLength+this.thetaStart,r=Math.sin(i),a=Math.cos(i);c.x=e*r,c.y=this._halfHeight+g*this.radiusTop-h*b/this.heightSegments,c.z=e*a,this.vertices.setXYZ(this._index,c.x,c.y,c.z),l.set(r,o,a).normalize(),this.normals.setXYZ(this._index,l.x,l.y,l.z),this.uvs.setXY(this._index,s,1-m/x),t.push(this._index),this._index++}this._indexArray.push(t)}for(h=1;h<=this.capsBottomSegments;h++){const t=[],e=Math.PI/2-this.alpha-(Math.PI-this.alpha)*(h/this.capsBottomSegments);m+=this.radiusBottom*this.alpha/this.capsBottomSegments;const s=Math.cos(e),i=Math.sin(e),r=s*this.radiusBottom;for(n=0;n<=this.radialSegments;n++){const a=n/this.radialSegments,u=a*this.thetaLength+this.thetaStart,p=Math.sin(u),v=Math.cos(u);c.x=r*p,c.y=-this._halfHeight+i*this.radiusBottom,c.z=r*v,this.vertices.setXYZ(this._index,c.x,c.y,c.z),l.set(s*p,i,s*v),this.normals.setXYZ(this._index,l.x,l.y,l.z),this.uvs.setXY(this._index,a,1-m/x),t.push(this._index),this._index++}this._indexArray.push(t)}for(n=0;n<this.radialSegments;n++)for(h=0;h<this.capsTopSegments+this.heightSegments+this.capsBottomSegments;h++){const t=this._indexArray[h][n],e=this._indexArray[h+1][n],s=this._indexArray[h+1][n+1],i=this._indexArray[h][n+1];this.indices.setX(this._indexOffset,t),this._indexOffset++,this.indices.setX(this._indexOffset,e),this._indexOffset++,this.indices.setX(this._indexOffset,i),this._indexOffset++,this.indices.setX(this._indexOffset,e),this._indexOffset++,this.indices.setX(this._indexOffset,s),this._indexOffset++,this.indices.setX(this._indexOffset,i),this._indexOffset++}}}const ne=new $,q=new $,P=new _,G=new V;new V;const ie=new _(1,1,1),Te=new _(1,1,1),re=Math.PI/2;xe([we]);const Pe=()=>{const f=new Map,n=new Map,h=new Map,l=[new T({color:16711680,wireframe:!0}),new T({color:65280,wireframe:!0}),new T({color:43775,wireframe:!0}),new T({color:16777215,wireframe:!0}),new J({color:16711680,transparent:!0,opacity:.25}),new J({color:16777215,transparent:!0,opacity:.25})],c=new de(1),g=new D,w=new pe(1e4,1e4,100,100);let d=!1;const x=e=>{d=e,e||(f.forEach(s=>{y.scene.remove(s)}),h.forEach(s=>{y.scene.remove(s)}),n.forEach(s=>{y.scene.remove(s)}),f.clear(),h.clear(),n.clear())};function m(e,s){if(!n.get(s)){let i;if(e._isCapsule){const a=e.getRadius(),u=e.getHalfHeight();i=new Y(a,a,u*2)}else{const a=e.getHalfExtents();i=new D(a.x*2,a.y*2,a.z*2)}const r=new A(i,l[5]);r.position.copy(e.getPosition()),r.quaternion.copy(e.getRotation()),y.scene.add(r),n.set(s,r)}}function b(e){const s=e._shapes[0],i=s._id;let r=f.get(i),a=!1;if(e._debugNeedsUpdate&&(r&&(y.scene.remove(r),a=!0),e._debugNeedsUpdate=!1),!r||a){if(K(s)===PhysX.PxGeometryType.eCAPSULE.value){const p=new PhysX.PxCapsuleGeometry(1,1);s.getCapsuleGeometry(p),r=new A(new Y(E(p.radius/.8),E(p.radius/.8),E(p.halfHeight/.8)*2),l[ee.CONTROLLER])}else{const p=new PhysX.PxBoxGeometry(1,1,1);s.getBoxGeometry(p);const{x:v,y:C,z:M}=p.halfExtents;r=new A(new D(E(v*2),E(C*2),E(M*2)),l[ee.CONTROLLER])}f.set(i,r),y.scene.add(r)}}function o(e,s,i){let r=f.get(s),a=!1;i._debugNeedsUpdate&&(r&&(y.scene.remove(r),a=!0),delete i._debugNeedsUpdate),(!r||a)&&(r=t(i,e),f.set(s,r))}function t(e,s){const i=be(e),r=K(e);let a;const u=l[i?4:s._type];switch(r){case PhysX.PxGeometryType.eSPHERE.value:{const p=new PhysX.PxSphereGeometry(1);e.getSphereGeometry(p);const v=E(p.radius);a=new A(c,u),a.scale.set(v,v,v);break}case PhysX.PxGeometryType.eCAPSULE.value:{const p=new PhysX.PxCapsuleGeometry(1,1);e.getCapsuleGeometry(p),a=new A(new Y(E(p.radius),E(p.radius),E(p.halfHeight)*2),u);break}case PhysX.PxGeometryType.eBOX.value:{const p=new PhysX.PxBoxGeometry(1,1,1);e.getBoxGeometry(p);const{x:v,y:C,z:M}=p.halfExtents;a=new A(g,u),a.scale.set(E(v),E(C),E(M)).multiplyScalar(2);break}case PhysX.PxGeometryType.ePLANE.value:{a=new A(w.clone(),u),a.quaternion.copy(e.getLocalPose().rotation),a.geometry.rotateY(-re),a.geometry.rotateX(-re);break}case PhysX.PxGeometryType.eCONVEXMESH.value:{const p=e._vertices,v=e._indices,C=e._scale,M=new H;M.setAttribute("position",new X(p,3)),M.setIndex(v),M.scale(C.x,C.y,C.z),a=new A(M,u);break}case PhysX.PxGeometryType.eTRIANGLEMESH.value:{const p=e._vertices,v=e._indices,C=e._scale,M=new H;M.setAttribute("position",new X(p,3)),M.setIndex(v),M.scale(C.x,C.y,C.z),a=new A(M,u);break}default:a=new A;break}return a&&a.geometry&&y.scene.add(a),a}return(e,s)=>{d!==s&&(d=s,x(s)),!!d&&(e.physics.bodies.forEach(i=>{const r=i.getGlobalPose();if(P.set(r.translation.x,r.translation.y,r.translation.z),ve(i)){const a=i._shapes[0]._id;b(i),f.get(a).position.copy(P);return}G.set(r.rotation.x,r.rotation.y,r.rotation.z,r.rotation.w),ne.compose(P,G,ie),i._shapes?.forEach(a=>{const u=a.getLocalPose();o(i,a._id,a),f.get(a._id)&&(P.set(u.translation.x,u.translation.y,u.translation.z),G.set(u.rotation.x,u.rotation.y,u.rotation.z,u.rotation.w),q.compose(P,G,ie),q.premultiply(ne),q.decompose(P,G,Te),f.get(a._id).position.copy(P),f.get(a._id).quaternion.copy(G))})}),e.physics.obstacles.forEach((i,r)=>{m(i,r)}),n.forEach((i,r)=>{e.physics.obstacles.has(r)||(y.scene.remove(i),f.delete(r))}),f.forEach((i,r)=>{e.physics.shapes.has(r)||(y.scene.remove(i),f.delete(r))}))}},E=f=>Math.max(1e-5,f),z=new _,W=new V,N=new ye(.05,.25,4);N.rotateX(-Math.PI*.5);async function ke(f){const n={viewVector:new Map,ikExtents:new Map,box:new Map,helperArrow:new Map,velocityArrow:new Map,navmesh:new Map,navpath:new Map};let h=Pe(),l=!1,c=!1;I.instance.addEventListener(I.EVENTS.AVATAR_DEBUG,({enabled:o})=>{c=o,n.viewVector.forEach(t=>{t.visible=o}),n.velocityArrow.forEach(t=>{t.visible=o}),n.ikExtents.forEach(t=>{t.forEach(e=>e.visible=o)})}),I.instance.addEventListener(I.EVENTS.PHYSICS_DEBUG,({enabled:o})=>{l=o,n.helperArrow.forEach(t=>{t.visible=o}),n.box.forEach(t=>{t.forEach(e=>e.visible=o)})});const g=B([j]),w=B([se]),d=B([k]),x=B([Q]),m=B([te]),b=B([_e,oe]);return()=>{for(const o of g.enter()){const t=S(o,j);if(new _(0,2,0),!t||!t.viewVector){console.warn("avatar.viewVector is null");continue}const e=255,s=new O(new _,new _(0,0,0),.5,e);s.visible=c,y.scene.add(s),n.velocityArrow.set(o,s)}for(const o of g.exit()){const t=n.velocityArrow.get(o);y.scene.remove(t),n.velocityArrow.delete(o)}for(const o of g()){const t=S(o,j),e=S(o,Ae),s=S(o,U),i=n.velocityArrow.get(o);i!=null&&(i.setDirection(z.copy(e.velocity).normalize()),i.setLength(e.velocity.length()*20),i.position.copy(s.position).y+=t.avatarHalfHeight)}for(const o of m.enter()){const t=new A(N,new T({color:new L("red"),side:ue})),e=new A(N,new T({color:new L("yellow")})),s=new A(N,new T({color:new L("blue")}));t.visible=c,e.visible=c,s.visible=c,y.scene.add(t),y.scene.add(e),y.scene.add(s),n.ikExtents.set(o,[t,e,s])}for(const o of m()){const t=S(o,te),[e,s,i]=n.ikExtents.get(o);e.position.copy(t.head.getWorldPosition(z)),e.quaternion.copy(t.head.getWorldQuaternion(W)),s.position.copy(t.controllerLeft.getWorldPosition(z)),s.quaternion.copy(t.controllerLeft.getWorldQuaternion(W)),i.position.copy(t.controllerRight.getWorldPosition(z)),i.quaternion.copy(t.controllerRight.getWorldQuaternion(W))}for(const o of m.exit())n.ikExtents.get(o).forEach(t=>{t.removeFromParent()}),n.ikExtents.delete(o);for(const o of d.exit()){const t=n.viewVector.get(o);y.scene.remove(t),n.viewVector.delete(o);const e=n.velocityArrow.get(o);y.scene.remove(e),n.velocityArrow.delete(o)}for(const o of d.enter()){const t=S(o,k);if(Se(t.body))continue;const e=new _(0,2,0),s=.5,i=16776960,r=new O(z.copy(t.body.getGlobalPose().translation).normalize(),e,s,i);r.visible=c,y.scene.add(r),n.viewVector.set(o,r);const a=255,u=new O(new _,new _(0,0,0),.5,a);u.visible=c,y.scene.add(u),n.velocityArrow.set(o,u)}for(const o of d()){const t=S(o,k),e=S(o,U),s=n.viewVector.get(o);s!=null&&(s.setDirection(new _().copy(t.body.getGlobalPose().translation).setY(0).normalize()),s.position.copy(e.position));const i=n.velocityArrow.get(o);if(i!=null){const r=new _().copy(t.body.getLinearVelocity());i.setLength(r.length()*60),i.setDirection(r.normalize()),i.position.copy(e.position)}}for(const o of w.enter()){n.box.set(o,[]);const t=S(o,se),e=new fe;if(e.copy(t.box),t.dynamic){const i=S(o,Me);e.applyMatrix4(i.value.matrixWorld)}const s=new me(e);s.visible=l,y.scene.add(s),n.box.get(o).push(s)}for(const o of w.exit())n.box.get(o).forEach(e=>{y.scene.remove(e)}),n.box.delete(o);for(const o of x.enter()){const t=S(o,Q),e=new O(new _,new _(0,0,0),.5,t.color);e.visible=l,y.scene.add(e),n.helperArrow.set(o,e)}for(const o of x.exit()){const t=n.helperArrow.get(o);y.scene.remove(t),n.helperArrow.delete(o)}for(const o of x()){const t=S(o,Q),e=n.helperArrow.get(o);e!=null&&(e.setDirection(t.direction.clone().normalize()),e.setLength(t.direction.length()),e.position.copy(t.position))}for(const o of b.enter()){console.log("add navmesh helper!");const t=S(o,oe)?.yukaNavMesh,e=Ee(t),s=Ce(t.graph,.2),i=new Z;i.add(e),i.add(s),console.log("navhelper",i),y.scene.add(i),n.navmesh.set(o,i)}for(const o of b()){const t=n.navmesh.get(o),e=S(o,U);t.position.copy(e.position)}for(const o of b.exit()){const t=n.navmesh.get(o);y.scene.remove(t),n.navmesh.delete(o)}h(f,l)}}export{ke as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVidWdIZWxwZXJzU3lzdGVtLjVkM2JlMjgxLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9lbmdpbmUvc3JjL25hdmlnYXRpb24vTmF2TWVzaEhlbHBlci5qcyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvbmF2aWdhdGlvbi9HcmFwaEhlbHBlci5qcyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvZGVidWcvRGVidWdBcnJvd0NvbXBvbmVudC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tbW9uL2NsYXNzZXMvQ2Fwc3VsZUJ1ZmZlckdlb21ldHJ5LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9kZWJ1Zy9zeXN0ZW1zL0RlYnVnUmVuZGVyZXIudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2RlYnVnL3N5c3RlbXMvRGVidWdIZWxwZXJzU3lzdGVtLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cHM6Ly9naXRodWIuY29tL011Z2VuODdcbiAqL1xuXG5pbXBvcnQgeyBWZXJ0ZXhDb2xvcnMsIEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUsIENvbG9yLCBCdWZmZXJHZW9tZXRyeSwgTWVzaEJhc2ljTWF0ZXJpYWwsIE1lc2ggfSBmcm9tICd0aHJlZSc7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnZleFJlZ2lvbkhlbHBlciggbmF2TWVzaCApIHtcblxuXHRjb25zdCByZWdpb25zID0gbmF2TWVzaC5yZWdpb25zO1xuXG5cdGNvbnN0IGdlb21ldHJ5ID0gbmV3IEJ1ZmZlckdlb21ldHJ5KCk7XG5cdGNvbnN0IG1hdGVyaWFsID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKCB7IHZlcnRleENvbG9yczogVmVydGV4Q29sb3JzIH0gKTtcblxuXHRjb25zdCBtZXNoID0gbmV3IE1lc2goIGdlb21ldHJ5LCBtYXRlcmlhbCApO1xuXG5cdGNvbnN0IHBvc2l0aW9ucyA9IFtdO1xuXHRjb25zdCBjb2xvcnMgPSBbXTtcblxuXHRjb25zdCBjb2xvciA9IG5ldyBDb2xvcigpO1xuXG5cdGZvciAoIGxldCByZWdpb24gb2YgcmVnaW9ucyApIHtcblxuXHRcdC8vIG9uZSBjb2xvciBmb3IgZWFjaCBjb252ZXggcmVnaW9uXG5cblx0XHRjb2xvci5zZXRIZXgoIE1hdGgucmFuZG9tKCkgKiAweGZmZmZmZiApO1xuXG5cdFx0Ly8gY291bnQgZWRnZXNcblxuXHRcdGxldCBlZGdlID0gcmVnaW9uLmVkZ2U7XG5cdFx0Y29uc3QgZWRnZXMgPSBbXTtcblxuXHRcdGRvIHtcblxuXHRcdFx0ZWRnZXMucHVzaCggZWRnZSApO1xuXG5cdFx0XHRlZGdlID0gZWRnZS5uZXh0O1xuXG5cdFx0fSB3aGlsZSAoIGVkZ2UgIT09IHJlZ2lvbi5lZGdlICk7XG5cblx0XHQvLyB0cmlhbmd1bGF0ZVxuXG5cdFx0Y29uc3QgdHJpYW5nbGVDb3VudCA9ICggZWRnZXMubGVuZ3RoIC0gMiApO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAxLCBsID0gdHJpYW5nbGVDb3VudDsgaSA8PSBsOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCB2MSA9IGVkZ2VzWyAwIF0udmVydGV4O1xuXHRcdFx0Y29uc3QgdjIgPSBlZGdlc1sgaSArIDAgXS52ZXJ0ZXg7XG5cdFx0XHRjb25zdCB2MyA9IGVkZ2VzWyBpICsgMSBdLnZlcnRleDtcblxuXHRcdFx0cG9zaXRpb25zLnB1c2goIHYxLngsIHYxLnksIHYxLnogKTtcblx0XHRcdHBvc2l0aW9ucy5wdXNoKCB2Mi54LCB2Mi55LCB2Mi56ICk7XG5cdFx0XHRwb3NpdGlvbnMucHVzaCggdjMueCwgdjMueSwgdjMueiApO1xuXG5cdFx0XHRjb2xvcnMucHVzaCggY29sb3IuciwgY29sb3IuZywgY29sb3IuYiApO1xuXHRcdFx0Y29sb3JzLnB1c2goIGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIgKTtcblx0XHRcdGNvbG9ycy5wdXNoKCBjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoIHBvc2l0aW9ucywgMyApICk7XG5cdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ2NvbG9yJywgbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoIGNvbG9ycywgMyApICk7XG5cblx0cmV0dXJuIG1lc2g7XG5cbn1cblxuXG5leHBvcnQgeyBjcmVhdGVDb252ZXhSZWdpb25IZWxwZXIgfTtcbiIsIi8qKlxuICogQGF1dGhvciBNdWdlbjg3IC8gaHR0cHM6Ly9naXRodWIuY29tL011Z2VuODdcbiAqL1xuXG5pbXBvcnQge1xuICBCdWZmZXJHZW9tZXRyeSxcbiAgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSxcbiAgR3JvdXAsXG4gIEljb3NhaGVkcm9uQnVmZmVyR2VvbWV0cnksXG4gIExpbmVCYXNpY01hdGVyaWFsLFxuICBMaW5lU2VnbWVudHMsXG4gIE1lc2gsXG4gIE1lc2hCYXNpY01hdGVyaWFsXG59IGZyb20gJ3RocmVlJ1xuXG5mdW5jdGlvbiBjcmVhdGVHcmFwaEhlbHBlcihncmFwaCwgbm9kZVNpemUgPSAxLCBub2RlQ29sb3IgPSAweDRlODRjNCwgZWRnZUNvbG9yID0gMHhmZmZmZmYpIHtcbiAgY29uc3QgZ3JvdXAgPSBuZXcgR3JvdXAoKVxuXG4gIC8vIG5vZGVzXG5cbiAgY29uc3Qgbm9kZU1hdGVyaWFsID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKHsgY29sb3I6IG5vZGVDb2xvciB9KVxuICBjb25zdCBub2RlR2VvbWV0cnkgPSBuZXcgSWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeShub2RlU2l6ZSwgMilcblxuICBjb25zdCBub2RlcyA9IFtdXG5cbiAgZ3JhcGguZ2V0Tm9kZXMobm9kZXMpXG5cbiAgZm9yIChsZXQgbm9kZSBvZiBub2Rlcykge1xuICAgIGNvbnN0IG5vZGVNZXNoID0gbmV3IE1lc2gobm9kZUdlb21ldHJ5LCBub2RlTWF0ZXJpYWwpXG4gICAgbm9kZU1lc2gucG9zaXRpb24uY29weShub2RlLnBvc2l0aW9uKVxuICAgIG5vZGVNZXNoLnVzZXJEYXRhLm5vZGVJbmRleCA9IG5vZGUuaW5kZXhcblxuICAgIG5vZGVNZXNoLm1hdHJpeEF1dG9VcGRhdGUgPSBmYWxzZVxuICAgIG5vZGVNZXNoLnVwZGF0ZU1hdHJpeCgpXG5cbiAgICBncm91cC5hZGQobm9kZU1lc2gpXG4gIH1cblxuICAvLyBlZGdlc1xuXG4gIGNvbnN0IGVkZ2VzR2VvbWV0cnkgPSBuZXcgQnVmZmVyR2VvbWV0cnkoKVxuICBjb25zdCBwb3NpdGlvbiA9IFtdXG5cbiAgY29uc3QgZWRnZXNNYXRlcmlhbCA9IG5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiBlZGdlQ29sb3IgfSlcblxuICBjb25zdCBlZGdlcyA9IFtdXG5cbiAgZm9yIChsZXQgbm9kZSBvZiBub2Rlcykge1xuICAgIGdyYXBoLmdldEVkZ2VzT2ZOb2RlKG5vZGUuaW5kZXgsIGVkZ2VzKVxuXG4gICAgZm9yIChsZXQgZWRnZSBvZiBlZGdlcykge1xuICAgICAgY29uc3QgZnJvbU5vZGUgPSBncmFwaC5nZXROb2RlKGVkZ2UuZnJvbSlcbiAgICAgIGNvbnN0IHRvTm9kZSA9IGdyYXBoLmdldE5vZGUoZWRnZS50bylcblxuICAgICAgcG9zaXRpb24ucHVzaChmcm9tTm9kZS5wb3NpdGlvbi54LCBmcm9tTm9kZS5wb3NpdGlvbi55LCBmcm9tTm9kZS5wb3NpdGlvbi56KVxuICAgICAgcG9zaXRpb24ucHVzaCh0b05vZGUucG9zaXRpb24ueCwgdG9Ob2RlLnBvc2l0aW9uLnksIHRvTm9kZS5wb3NpdGlvbi56KVxuICAgIH1cbiAgfVxuXG4gIGVkZ2VzR2VvbWV0cnkuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsIG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uLCAzKSlcblxuICBjb25zdCBsaW5lcyA9IG5ldyBMaW5lU2VnbWVudHMoZWRnZXNHZW9tZXRyeSwgZWRnZXNNYXRlcmlhbClcbiAgbGluZXMubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlXG5cbiAgZ3JvdXAuYWRkKGxpbmVzKVxuXG4gIHJldHVybiBncm91cFxufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXRoSGVscGVyKGdyYXBoLCBwYXRoLCBub2RlU2l6ZSwgY29sb3IgPSAweDAwZmYwMCkge1xuICBjb25zdCBncm91cCA9IG5ldyBHcm91cCgpXG5cbiAgLy8gbm9kZXNcblxuICBjb25zdCBzdGFydE5vZGVNYXRlcmlhbCA9IG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiAweGZmMDAwMCB9KVxuICBjb25zdCBlbmROb2RlTWF0ZXJpYWwgPSBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogMHgwMGZmMDAgfSlcbiAgY29uc3Qgbm9kZUdlb21ldHJ5ID0gbmV3IEljb3NhaGVkcm9uQnVmZmVyR2VvbWV0cnkobm9kZVNpemUsIDIpXG5cbiAgY29uc3Qgc3RhcnROb2RlTWVzaCA9IG5ldyBNZXNoKG5vZGVHZW9tZXRyeSwgc3RhcnROb2RlTWF0ZXJpYWwpXG4gIGNvbnN0IGVuZE5vZGVNZXNoID0gbmV3IE1lc2gobm9kZUdlb21ldHJ5LCBlbmROb2RlTWF0ZXJpYWwpXG5cbiAgY29uc3Qgc3RhcnROb2RlID0gZ3JhcGguZ2V0Tm9kZShwYXRoWzBdKVxuICBjb25zdCBlbmROb2RlID0gZ3JhcGguZ2V0Tm9kZShwYXRoW3BhdGgubGVuZ3RoIC0gMV0pXG5cbiAgc3RhcnROb2RlTWVzaC5wb3NpdGlvbi5jb3B5KHN0YXJ0Tm9kZS5wb3NpdGlvbilcbiAgZW5kTm9kZU1lc2gucG9zaXRpb24uY29weShlbmROb2RlLnBvc2l0aW9uKVxuXG4gIGdyb3VwLmFkZChzdGFydE5vZGVNZXNoKVxuICBncm91cC5hZGQoZW5kTm9kZU1lc2gpXG5cbiAgLy8gZWRnZXNcblxuICBjb25zdCBlZGdlc0dlb21ldHJ5ID0gbmV3IEJ1ZmZlckdlb21ldHJ5KClcbiAgY29uc3QgcG9zaXRpb24gPSBbXVxuXG4gIGNvbnN0IGVkZ2VzTWF0ZXJpYWwgPSBuZXcgTGluZUJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogY29sb3IgfSlcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHBhdGgubGVuZ3RoIC0gMTsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IGZyb21Ob2RlID0gZ3JhcGguZ2V0Tm9kZShwYXRoW2ldKVxuICAgIGNvbnN0IHRvTm9kZSA9IGdyYXBoLmdldE5vZGUocGF0aFtpICsgMV0pXG5cbiAgICBwb3NpdGlvbi5wdXNoKGZyb21Ob2RlLnBvc2l0aW9uLngsIGZyb21Ob2RlLnBvc2l0aW9uLnksIGZyb21Ob2RlLnBvc2l0aW9uLnopXG4gICAgcG9zaXRpb24ucHVzaCh0b05vZGUucG9zaXRpb24ueCwgdG9Ob2RlLnBvc2l0aW9uLnksIHRvTm9kZS5wb3NpdGlvbi56KVxuICB9XG5cbiAgZWRnZXNHZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUocG9zaXRpb24sIDMpKVxuXG4gIGNvbnN0IGxpbmVzID0gbmV3IExpbmVTZWdtZW50cyhlZGdlc0dlb21ldHJ5LCBlZGdlc01hdGVyaWFsKVxuICBsaW5lcy5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2VcblxuICBncm91cC5hZGQobGluZXMpXG5cbiAgcmV0dXJuIGdyb3VwXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNlYXJjaFRyZWVIZWxwZXIoZ3JhcGgsIHNlYXJjaFRyZWUsIGNvbG9yID0gMHhmZjAwMDApIHtcbiAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgQnVmZmVyR2VvbWV0cnkoKVxuICBjb25zdCBwb3NpdGlvbiA9IFtdXG5cbiAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgTGluZUJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogY29sb3IgfSlcblxuICBmb3IgKGxldCBlZGdlIG9mIHNlYXJjaFRyZWUpIHtcbiAgICBjb25zdCBmcm9tTm9kZSA9IGdyYXBoLmdldE5vZGUoZWRnZS5mcm9tKVxuICAgIGNvbnN0IHRvTm9kZSA9IGdyYXBoLmdldE5vZGUoZWRnZS50bylcblxuICAgIHBvc2l0aW9uLnB1c2goZnJvbU5vZGUucG9zaXRpb24ueCwgZnJvbU5vZGUucG9zaXRpb24ueSwgZnJvbU5vZGUucG9zaXRpb24ueilcbiAgICBwb3NpdGlvbi5wdXNoKHRvTm9kZS5wb3NpdGlvbi54LCB0b05vZGUucG9zaXRpb24ueSwgdG9Ob2RlLnBvc2l0aW9uLnopXG4gIH1cblxuICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUocG9zaXRpb24sIDMpKVxuXG4gIGNvbnN0IGxpbmVzID0gbmV3IExpbmVTZWdtZW50cyhnZW9tZXRyeSwgbWF0ZXJpYWwpXG4gIGxpbmVzLm1hdHJpeEF1dG9VcGRhdGUgPSBmYWxzZVxuXG4gIHJldHVybiBsaW5lc1xufVxuXG5leHBvcnQgeyBjcmVhdGVHcmFwaEhlbHBlciwgY3JlYXRlUGF0aEhlbHBlciwgY3JlYXRlU2VhcmNoVHJlZUhlbHBlciB9XG4iLCJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBjcmVhdGVNYXBwZWRDb21wb25lbnQgfSBmcm9tICcuLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcblxuZXhwb3J0IHR5cGUgRGVidWdBcnJvd0NvbXBvbmVudFR5cGUgPSB7XG4gIGNvbG9yOiBudW1iZXJcbiAgZGlyZWN0aW9uOiBWZWN0b3IzXG4gIHBvc2l0aW9uOiBWZWN0b3IzXG59XG5cbmV4cG9ydCBjb25zdCBEZWJ1Z0Fycm93Q29tcG9uZW50ID0gY3JlYXRlTWFwcGVkQ29tcG9uZW50PERlYnVnQXJyb3dDb21wb25lbnRUeXBlPignRGVidWdBcnJvd0NvbXBvbmVudCcpXG4iLCIvLyBDcmVkaXQgaHR0cHM6Ly9naXRodWIuY29tL21heGltZXEvdGhyZWUtanMtY2Fwc3VsZS1nZW9tZXRyeVxuXG5pbXBvcnQgeyBCdWZmZXJHZW9tZXRyeSwgQnVmZmVyQXR0cmlidXRlLCBWZWN0b3IzLCBWZWN0b3IyIH0gZnJvbSAndGhyZWUnXG5cbi8vIGhlbHBlciBsZXRpYWJsZXNcblxuLyoqXG4gKiBAYXV0aG9yIG1heGltZXF1aWJsaWVyXG4gKi9cbmV4cG9ydCBjbGFzcyBDYXBzdWxlQnVmZmVyR2VvbWV0cnkgZXh0ZW5kcyBCdWZmZXJHZW9tZXRyeSB7XG4gIHBhcmFtZXRlcnNcbiAgcmFkaXVzVG9wOiBudW1iZXJcbiAgcmFkaXVzQm90dG9tOiBudW1iZXJcbiAgaGVpZ2h0OiBudW1iZXJcbiAgcmFkaWFsU2VnbWVudHM6IG51bWJlclxuICBoZWlnaHRTZWdtZW50czogbnVtYmVyXG4gIGNhcHNUb3BTZWdtZW50czogbnVtYmVyXG4gIGNhcHNCb3R0b21TZWdtZW50czogbnVtYmVyXG4gIHRoZXRhU3RhcnQ6IG51bWJlclxuICB0aGV0YUxlbmd0aDogbnVtYmVyXG4gIGFscGhhOiBudW1iZXJcbiAgZXFSYWRpaTogYm9vbGVhblxuICB2ZXJ0ZXhDb3VudDogbnVtYmVyXG4gIGluZGV4Q291bnQ6IG51bWJlclxuICBpbmRpY2VzOiBCdWZmZXJBdHRyaWJ1dGVcbiAgdmVydGljZXM6IEJ1ZmZlckF0dHJpYnV0ZVxuICBub3JtYWxzOiBCdWZmZXJBdHRyaWJ1dGVcbiAgdXZzOiBCdWZmZXJBdHRyaWJ1dGVcbiAgX2luZGV4ID0gMFxuICBfaGFsZkhlaWdodCA9IDBcbiAgX2luZGV4QXJyYXk6IG51bWJlcltdW10gPSBbXVxuICBfaW5kZXhPZmZzZXQgPSAwXG5cbiAgY29uc3RydWN0b3IoXG4gICAgcmFkaXVzVG9wPzogbnVtYmVyLFxuICAgIHJhZGl1c0JvdHRvbT86IG51bWJlcixcbiAgICBoZWlnaHQ/OiBudW1iZXIsXG4gICAgcmFkaWFsU2VnbWVudHM/OiBudW1iZXIsXG4gICAgaGVpZ2h0U2VnbWVudHM/OiBudW1iZXIsXG4gICAgY2Fwc1RvcFNlZ21lbnRzPzogbnVtYmVyLFxuICAgIGNhcHNCb3R0b21TZWdtZW50cz86IG51bWJlcixcbiAgICB0aGV0YVN0YXJ0PzogbnVtYmVyLFxuICAgIHRoZXRhTGVuZ3RoPzogbnVtYmVyXG4gICkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnR5cGUgPSAnQ2Fwc3VsZUJ1ZmZlckdlb21ldHJ5J1xuXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0ge1xuICAgICAgcmFkaXVzVG9wOiByYWRpdXNUb3AsXG4gICAgICByYWRpdXNCb3R0b206IHJhZGl1c0JvdHRvbSxcbiAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgcmFkaWFsU2VnbWVudHM6IHJhZGlhbFNlZ21lbnRzLFxuICAgICAgaGVpZ2h0U2VnbWVudHM6IGhlaWdodFNlZ21lbnRzLFxuICAgICAgdGhldGFTdGFydDogdGhldGFTdGFydCxcbiAgICAgIHRoZXRhTGVuZ3RoOiB0aGV0YUxlbmd0aFxuICAgIH1cblxuICAgIHRoaXMucmFkaXVzVG9wID0gcmFkaXVzVG9wICE9PSB1bmRlZmluZWQgPyByYWRpdXNUb3AgOiAwLjI1XG4gICAgdGhpcy5yYWRpdXNCb3R0b20gPSByYWRpdXNCb3R0b20gIT09IHVuZGVmaW5lZCA/IHJhZGl1c0JvdHRvbSA6IDAuMjVcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodCAhPT0gdW5kZWZpbmVkID8gaGVpZ2h0IDogMVxuXG4gICAgdGhpcy5yYWRpYWxTZWdtZW50cyA9IE1hdGguZmxvb3IocmFkaWFsU2VnbWVudHMgPz8gOClcbiAgICB0aGlzLmhlaWdodFNlZ21lbnRzID0gTWF0aC5mbG9vcihoZWlnaHRTZWdtZW50cyA/PyAxKVxuICAgIHRoaXMuY2Fwc1RvcFNlZ21lbnRzID0gTWF0aC5mbG9vcihjYXBzVG9wU2VnbWVudHMgPz8gMilcbiAgICB0aGlzLmNhcHNCb3R0b21TZWdtZW50cyA9IE1hdGguZmxvb3IoY2Fwc0JvdHRvbVNlZ21lbnRzID8/IDIpXG5cbiAgICB0aGlzLnRoZXRhU3RhcnQgPSB0aGV0YVN0YXJ0ICE9PSB1bmRlZmluZWQgPyB0aGV0YVN0YXJ0IDogMC4wXG4gICAgdGhpcy50aGV0YUxlbmd0aCA9IHRoZXRhTGVuZ3RoICE9PSB1bmRlZmluZWQgPyB0aGV0YUxlbmd0aCA6IDIuMCAqIE1hdGguUElcblxuICAgIC8vIEFscGhhIGlzIHRoZSBhbmdsZSBzdWNoIHRoYXQgTWF0aC5QSS8yIC0gYWxwaGEgaXMgdGhlIGNvbmUgcGFydCBhbmdsZS5cbiAgICB0aGlzLmFscGhhID0gTWF0aC5hY29zKCh0aGlzLnJhZGl1c0JvdHRvbSAtIHRoaXMucmFkaXVzVG9wKSAvIHRoaXMuaGVpZ2h0KVxuICAgIHRoaXMuZXFSYWRpaSA9IHRoaXMucmFkaXVzVG9wIC0gdGhpcy5yYWRpdXNCb3R0b20gPT09IDBcblxuICAgIHRoaXMudmVydGV4Q291bnQgPSB0aGlzLmNhbGN1bGF0ZVZlcnRleENvdW50KClcbiAgICB0aGlzLmluZGV4Q291bnQgPSB0aGlzLmNhbGN1bGF0ZUluZGV4Q291bnQoKVxuXG4gICAgLy8gYnVmZmVyc1xuICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3ICh0aGlzLmluZGV4Q291bnQgPiA2NTUzNSA/IFVpbnQzMkFycmF5IDogVWludDE2QXJyYXkpKHRoaXMuaW5kZXhDb3VudCksIDEpXG4gICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRleENvdW50ICogMyksIDMpXG4gICAgdGhpcy5ub3JtYWxzID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KHRoaXMudmVydGV4Q291bnQgKiAzKSwgMylcbiAgICB0aGlzLnV2cyA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRleENvdW50ICogMiksIDIpXG5cbiAgICB0aGlzLl9oYWxmSGVpZ2h0ID0gdGhpcy5oZWlnaHQgLyAyXG5cbiAgICAvLyBnZW5lcmF0ZSBnZW9tZXRyeVxuXG4gICAgdGhpcy5nZW5lcmF0ZVRvcnNvKClcblxuICAgIC8vIGJ1aWxkIGdlb21ldHJ5XG5cbiAgICB0aGlzLnNldEluZGV4KHRoaXMuaW5kaWNlcylcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCB0aGlzLnZlcnRpY2VzKVxuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdub3JtYWwnLCB0aGlzLm5vcm1hbHMpXG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ3V2JywgdGhpcy51dnMpXG4gIH1cblxuICAvLyBoZWxwZXIgZnVuY3Rpb25zXG5cbiAgY2FsY3VsYXRlVmVydGV4Q291bnQoKSB7XG4gICAgY29uc3QgY291bnQgPSAodGhpcy5yYWRpYWxTZWdtZW50cyArIDEpICogKHRoaXMuaGVpZ2h0U2VnbWVudHMgKyAxICsgdGhpcy5jYXBzQm90dG9tU2VnbWVudHMgKyB0aGlzLmNhcHNUb3BTZWdtZW50cylcbiAgICByZXR1cm4gY291bnRcbiAgfVxuXG4gIGNhbGN1bGF0ZUluZGV4Q291bnQoKSB7XG4gICAgY29uc3QgY291bnQgPSB0aGlzLnJhZGlhbFNlZ21lbnRzICogKHRoaXMuaGVpZ2h0U2VnbWVudHMgKyB0aGlzLmNhcHNCb3R0b21TZWdtZW50cyArIHRoaXMuY2Fwc1RvcFNlZ21lbnRzKSAqIDIgKiAzXG4gICAgcmV0dXJuIGNvdW50XG4gIH1cblxuICBnZW5lcmF0ZVRvcnNvKCkge1xuICAgIGxldCB4LCB5XG4gICAgY29uc3Qgbm9ybWFsID0gbmV3IFZlY3RvcjMoKVxuICAgIGNvbnN0IHZlcnRleCA9IG5ldyBWZWN0b3IzKClcblxuICAgIGNvbnN0IGNvc0FscGhhID0gTWF0aC5jb3ModGhpcy5hbHBoYSlcbiAgICBjb25zdCBzaW5BbHBoYSA9IE1hdGguc2luKHRoaXMuYWxwaGEpXG5cbiAgICBjb25zdCBjb25lX2xlbmd0aCA9IG5ldyBWZWN0b3IyKHRoaXMucmFkaXVzVG9wICogc2luQWxwaGEsIHRoaXMuX2hhbGZIZWlnaHQgKyB0aGlzLnJhZGl1c1RvcCAqIGNvc0FscGhhKVxuICAgICAgLnN1YihuZXcgVmVjdG9yMih0aGlzLnJhZGl1c0JvdHRvbSAqIHNpbkFscGhhLCAtdGhpcy5faGFsZkhlaWdodCArIHRoaXMucmFkaXVzQm90dG9tICogY29zQWxwaGEpKVxuICAgICAgLmxlbmd0aCgpXG5cbiAgICAvLyBUb3RhbCBsZW5ndGggZm9yIHYgdGV4dHVyZSBjb29yZFxuICAgIGNvbnN0IHZsID0gdGhpcy5yYWRpdXNUb3AgKiB0aGlzLmFscGhhICsgY29uZV9sZW5ndGggKyB0aGlzLnJhZGl1c0JvdHRvbSAqIChNYXRoLlBJIC8gMiAtIHRoaXMuYWxwaGEpXG5cbiAgICBjb25zdCBncm91cENvdW50ID0gMFxuXG4gICAgLy8gZ2VuZXJhdGUgdmVydGljZXMsIG5vcm1hbHMgYW5kIHV2c1xuXG4gICAgbGV0IHYgPSAwXG4gICAgZm9yICh5ID0gMDsgeSA8PSB0aGlzLmNhcHNUb3BTZWdtZW50czsgeSsrKSB7XG4gICAgICBjb25zdCBpbmRleFJvdzogbnVtYmVyW10gPSBbXVxuXG4gICAgICBjb25zdCBhID0gTWF0aC5QSSAvIDIgLSB0aGlzLmFscGhhICogKHkgLyB0aGlzLmNhcHNUb3BTZWdtZW50cylcblxuICAgICAgdiArPSAodGhpcy5yYWRpdXNUb3AgKiB0aGlzLmFscGhhKSAvIHRoaXMuY2Fwc1RvcFNlZ21lbnRzXG5cbiAgICAgIGNvbnN0IGNvc0EgPSBNYXRoLmNvcyhhKVxuICAgICAgY29uc3Qgc2luQSA9IE1hdGguc2luKGEpXG5cbiAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgcmFkaXVzIG9mIHRoZSBjdXJyZW50IHJvd1xuICAgICAgY29uc3QgcmFkaXVzID0gY29zQSAqIHRoaXMucmFkaXVzVG9wXG5cbiAgICAgIGZvciAoeCA9IDA7IHggPD0gdGhpcy5yYWRpYWxTZWdtZW50czsgeCsrKSB7XG4gICAgICAgIGNvbnN0IHUgPSB4IC8gdGhpcy5yYWRpYWxTZWdtZW50c1xuXG4gICAgICAgIGNvbnN0IHRoZXRhID0gdSAqIHRoaXMudGhldGFMZW5ndGggKyB0aGlzLnRoZXRhU3RhcnRcblxuICAgICAgICBjb25zdCBzaW5UaGV0YSA9IE1hdGguc2luKHRoZXRhKVxuICAgICAgICBjb25zdCBjb3NUaGV0YSA9IE1hdGguY29zKHRoZXRhKVxuXG4gICAgICAgIC8vIHZlcnRleFxuICAgICAgICB2ZXJ0ZXgueCA9IHJhZGl1cyAqIHNpblRoZXRhXG4gICAgICAgIHZlcnRleC55ID0gdGhpcy5faGFsZkhlaWdodCArIHNpbkEgKiB0aGlzLnJhZGl1c1RvcFxuICAgICAgICB2ZXJ0ZXgueiA9IHJhZGl1cyAqIGNvc1RoZXRhXG4gICAgICAgIHRoaXMudmVydGljZXMuc2V0WFlaKHRoaXMuX2luZGV4LCB2ZXJ0ZXgueCwgdmVydGV4LnksIHZlcnRleC56KVxuXG4gICAgICAgIC8vIG5vcm1hbFxuICAgICAgICBub3JtYWwuc2V0KGNvc0EgKiBzaW5UaGV0YSwgc2luQSwgY29zQSAqIGNvc1RoZXRhKVxuICAgICAgICB0aGlzLm5vcm1hbHMuc2V0WFlaKHRoaXMuX2luZGV4LCBub3JtYWwueCwgbm9ybWFsLnksIG5vcm1hbC56KVxuXG4gICAgICAgIC8vIHV2XG4gICAgICAgIHRoaXMudXZzLnNldFhZKHRoaXMuX2luZGV4LCB1LCAxIC0gdiAvIHZsKVxuXG4gICAgICAgIC8vIHNhdmUgaW5kZXggb2YgdmVydGV4IGluIHJlc3BlY3RpdmUgcm93XG4gICAgICAgIGluZGV4Um93LnB1c2godGhpcy5faW5kZXgpXG5cbiAgICAgICAgLy8gaW5jcmVhc2UgaW5kZXhcbiAgICAgICAgdGhpcy5faW5kZXgrK1xuICAgICAgfVxuXG4gICAgICAvLyBub3cgc2F2ZSB2ZXJ0aWNlcyBvZiB0aGUgcm93IGluIG91ciBpbmRleCBhcnJheVxuICAgICAgdGhpcy5faW5kZXhBcnJheS5wdXNoKGluZGV4Um93KVxuICAgIH1cblxuICAgIGNvbnN0IGNvbmVfaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyBjb3NBbHBoYSAqIHRoaXMucmFkaXVzVG9wIC0gY29zQWxwaGEgKiB0aGlzLnJhZGl1c0JvdHRvbVxuICAgIGNvbnN0IHNsb3BlID0gKHNpbkFscGhhICogKHRoaXMucmFkaXVzQm90dG9tIC0gdGhpcy5yYWRpdXNUb3ApKSAvIGNvbmVfaGVpZ2h0XG4gICAgZm9yICh5ID0gMTsgeSA8PSB0aGlzLmhlaWdodFNlZ21lbnRzOyB5KyspIHtcbiAgICAgIGNvbnN0IGluZGV4Um93OiBudW1iZXJbXSA9IFtdXG5cbiAgICAgIHYgKz0gY29uZV9sZW5ndGggLyB0aGlzLmhlaWdodFNlZ21lbnRzXG5cbiAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgcmFkaXVzIG9mIHRoZSBjdXJyZW50IHJvd1xuICAgICAgY29uc3QgcmFkaXVzID0gc2luQWxwaGEgKiAoKHkgKiAodGhpcy5yYWRpdXNCb3R0b20gLSB0aGlzLnJhZGl1c1RvcCkpIC8gdGhpcy5oZWlnaHRTZWdtZW50cyArIHRoaXMucmFkaXVzVG9wKVxuXG4gICAgICBmb3IgKHggPSAwOyB4IDw9IHRoaXMucmFkaWFsU2VnbWVudHM7IHgrKykge1xuICAgICAgICBjb25zdCB1ID0geCAvIHRoaXMucmFkaWFsU2VnbWVudHNcblxuICAgICAgICBjb25zdCB0aGV0YSA9IHUgKiB0aGlzLnRoZXRhTGVuZ3RoICsgdGhpcy50aGV0YVN0YXJ0XG5cbiAgICAgICAgY29uc3Qgc2luVGhldGEgPSBNYXRoLnNpbih0aGV0YSlcbiAgICAgICAgY29uc3QgY29zVGhldGEgPSBNYXRoLmNvcyh0aGV0YSlcblxuICAgICAgICAvLyB2ZXJ0ZXhcbiAgICAgICAgdmVydGV4LnggPSByYWRpdXMgKiBzaW5UaGV0YVxuICAgICAgICB2ZXJ0ZXgueSA9IHRoaXMuX2hhbGZIZWlnaHQgKyBjb3NBbHBoYSAqIHRoaXMucmFkaXVzVG9wIC0gKHkgKiBjb25lX2hlaWdodCkgLyB0aGlzLmhlaWdodFNlZ21lbnRzXG4gICAgICAgIHZlcnRleC56ID0gcmFkaXVzICogY29zVGhldGFcbiAgICAgICAgdGhpcy52ZXJ0aWNlcy5zZXRYWVoodGhpcy5faW5kZXgsIHZlcnRleC54LCB2ZXJ0ZXgueSwgdmVydGV4LnopXG5cbiAgICAgICAgLy8gbm9ybWFsXG4gICAgICAgIG5vcm1hbC5zZXQoc2luVGhldGEsIHNsb3BlLCBjb3NUaGV0YSkubm9ybWFsaXplKClcbiAgICAgICAgdGhpcy5ub3JtYWxzLnNldFhZWih0aGlzLl9pbmRleCwgbm9ybWFsLngsIG5vcm1hbC55LCBub3JtYWwueilcblxuICAgICAgICAvLyB1dlxuICAgICAgICB0aGlzLnV2cy5zZXRYWSh0aGlzLl9pbmRleCwgdSwgMSAtIHYgLyB2bClcblxuICAgICAgICAvLyBzYXZlIGluZGV4IG9mIHZlcnRleCBpbiByZXNwZWN0aXZlIHJvd1xuICAgICAgICBpbmRleFJvdy5wdXNoKHRoaXMuX2luZGV4KVxuXG4gICAgICAgIC8vIGluY3JlYXNlIGluZGV4XG4gICAgICAgIHRoaXMuX2luZGV4KytcbiAgICAgIH1cblxuICAgICAgLy8gbm93IHNhdmUgdmVydGljZXMgb2YgdGhlIHJvdyBpbiBvdXIgaW5kZXggYXJyYXlcbiAgICAgIHRoaXMuX2luZGV4QXJyYXkucHVzaChpbmRleFJvdylcbiAgICB9XG5cbiAgICBmb3IgKHkgPSAxOyB5IDw9IHRoaXMuY2Fwc0JvdHRvbVNlZ21lbnRzOyB5KyspIHtcbiAgICAgIGNvbnN0IGluZGV4Um93OiBudW1iZXJbXSA9IFtdXG5cbiAgICAgIGNvbnN0IGEgPSBNYXRoLlBJIC8gMiAtIHRoaXMuYWxwaGEgLSAoTWF0aC5QSSAtIHRoaXMuYWxwaGEpICogKHkgLyB0aGlzLmNhcHNCb3R0b21TZWdtZW50cylcblxuICAgICAgdiArPSAodGhpcy5yYWRpdXNCb3R0b20gKiB0aGlzLmFscGhhKSAvIHRoaXMuY2Fwc0JvdHRvbVNlZ21lbnRzXG5cbiAgICAgIGNvbnN0IGNvc0EgPSBNYXRoLmNvcyhhKVxuICAgICAgY29uc3Qgc2luQSA9IE1hdGguc2luKGEpXG5cbiAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgcmFkaXVzIG9mIHRoZSBjdXJyZW50IHJvd1xuICAgICAgY29uc3QgcmFkaXVzID0gY29zQSAqIHRoaXMucmFkaXVzQm90dG9tXG5cbiAgICAgIGZvciAoeCA9IDA7IHggPD0gdGhpcy5yYWRpYWxTZWdtZW50czsgeCsrKSB7XG4gICAgICAgIGNvbnN0IHUgPSB4IC8gdGhpcy5yYWRpYWxTZWdtZW50c1xuXG4gICAgICAgIGNvbnN0IHRoZXRhID0gdSAqIHRoaXMudGhldGFMZW5ndGggKyB0aGlzLnRoZXRhU3RhcnRcblxuICAgICAgICBjb25zdCBzaW5UaGV0YSA9IE1hdGguc2luKHRoZXRhKVxuICAgICAgICBjb25zdCBjb3NUaGV0YSA9IE1hdGguY29zKHRoZXRhKVxuXG4gICAgICAgIC8vIHZlcnRleFxuICAgICAgICB2ZXJ0ZXgueCA9IHJhZGl1cyAqIHNpblRoZXRhXG4gICAgICAgIHZlcnRleC55ID0gLXRoaXMuX2hhbGZIZWlnaHQgKyBzaW5BICogdGhpcy5yYWRpdXNCb3R0b21cbiAgICAgICAgdmVydGV4LnogPSByYWRpdXMgKiBjb3NUaGV0YVxuICAgICAgICB0aGlzLnZlcnRpY2VzLnNldFhZWih0aGlzLl9pbmRleCwgdmVydGV4LngsIHZlcnRleC55LCB2ZXJ0ZXgueilcblxuICAgICAgICAvLyBub3JtYWxcbiAgICAgICAgbm9ybWFsLnNldChjb3NBICogc2luVGhldGEsIHNpbkEsIGNvc0EgKiBjb3NUaGV0YSlcbiAgICAgICAgdGhpcy5ub3JtYWxzLnNldFhZWih0aGlzLl9pbmRleCwgbm9ybWFsLngsIG5vcm1hbC55LCBub3JtYWwueilcblxuICAgICAgICAvLyB1dlxuICAgICAgICB0aGlzLnV2cy5zZXRYWSh0aGlzLl9pbmRleCwgdSwgMSAtIHYgLyB2bClcblxuICAgICAgICAvLyBzYXZlIGluZGV4IG9mIHZlcnRleCBpbiByZXNwZWN0aXZlIHJvd1xuICAgICAgICBpbmRleFJvdy5wdXNoKHRoaXMuX2luZGV4KVxuXG4gICAgICAgIC8vIGluY3JlYXNlIGluZGV4XG4gICAgICAgIHRoaXMuX2luZGV4KytcbiAgICAgIH1cblxuICAgICAgLy8gbm93IHNhdmUgdmVydGljZXMgb2YgdGhlIHJvdyBpbiBvdXIgaW5kZXggYXJyYXlcbiAgICAgIHRoaXMuX2luZGV4QXJyYXkucHVzaChpbmRleFJvdylcbiAgICB9XG5cbiAgICAvLyBnZW5lcmF0ZSBpbmRpY2VzXG5cbiAgICBmb3IgKHggPSAwOyB4IDwgdGhpcy5yYWRpYWxTZWdtZW50czsgeCsrKSB7XG4gICAgICBmb3IgKHkgPSAwOyB5IDwgdGhpcy5jYXBzVG9wU2VnbWVudHMgKyB0aGlzLmhlaWdodFNlZ21lbnRzICsgdGhpcy5jYXBzQm90dG9tU2VnbWVudHM7IHkrKykge1xuICAgICAgICAvLyB3ZSB1c2UgdGhlIGluZGV4IGFycmF5IHRvIGFjY2VzcyB0aGUgY29ycmVjdCBpbmRpY2VzXG4gICAgICAgIGNvbnN0IGkxID0gdGhpcy5faW5kZXhBcnJheVt5XVt4XVxuICAgICAgICBjb25zdCBpMiA9IHRoaXMuX2luZGV4QXJyYXlbeSArIDFdW3hdXG4gICAgICAgIGNvbnN0IGkzID0gdGhpcy5faW5kZXhBcnJheVt5ICsgMV1beCArIDFdXG4gICAgICAgIGNvbnN0IGk0ID0gdGhpcy5faW5kZXhBcnJheVt5XVt4ICsgMV1cblxuICAgICAgICAvLyBmYWNlIG9uZVxuICAgICAgICB0aGlzLmluZGljZXMuc2V0WCh0aGlzLl9pbmRleE9mZnNldCwgaTEpXG4gICAgICAgIHRoaXMuX2luZGV4T2Zmc2V0KytcbiAgICAgICAgdGhpcy5pbmRpY2VzLnNldFgodGhpcy5faW5kZXhPZmZzZXQsIGkyKVxuICAgICAgICB0aGlzLl9pbmRleE9mZnNldCsrXG4gICAgICAgIHRoaXMuaW5kaWNlcy5zZXRYKHRoaXMuX2luZGV4T2Zmc2V0LCBpNClcbiAgICAgICAgdGhpcy5faW5kZXhPZmZzZXQrK1xuXG4gICAgICAgIC8vIGZhY2UgdHdvXG4gICAgICAgIHRoaXMuaW5kaWNlcy5zZXRYKHRoaXMuX2luZGV4T2Zmc2V0LCBpMilcbiAgICAgICAgdGhpcy5faW5kZXhPZmZzZXQrK1xuICAgICAgICB0aGlzLmluZGljZXMuc2V0WCh0aGlzLl9pbmRleE9mZnNldCwgaTMpXG4gICAgICAgIHRoaXMuX2luZGV4T2Zmc2V0KytcbiAgICAgICAgdGhpcy5pbmRpY2VzLnNldFgodGhpcy5faW5kZXhPZmZzZXQsIGk0KVxuICAgICAgICB0aGlzLl9pbmRleE9mZnNldCsrXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBkZWZpbmVRdWVyeSB9IGZyb20gJ2JpdGVjcydcbmltcG9ydCB7XG4gIE1lc2gsXG4gIFBvaW50cyxcbiAgU3BoZXJlQnVmZmVyR2VvbWV0cnksXG4gIEJveEJ1ZmZlckdlb21ldHJ5LFxuICBQbGFuZUJ1ZmZlckdlb21ldHJ5LFxuICBCdWZmZXJHZW9tZXRyeSxcbiAgTWVzaEJhc2ljTWF0ZXJpYWwsXG4gIFZlY3RvcjMsXG4gIE1hdHJpeDQsXG4gIFF1YXRlcm5pb24sXG4gIExpbmVCYXNpY01hdGVyaWFsLFxuICBMaW5lLFxuICBNZXNoU3RhbmRhcmRNYXRlcmlhbCxcbiAgTWF0ZXJpYWwsXG4gIEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGVcbn0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBDYXBzdWxlQnVmZmVyR2VvbWV0cnkgfSBmcm9tICcuLi8uLi9jb21tb24vY2xhc3Nlcy9DYXBzdWxlQnVmZmVyR2VvbWV0cnknXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbmdpbmUnXG5pbXBvcnQgeyBXb3JsZCB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL1dvcmxkJ1xuaW1wb3J0IHsgZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5pbXBvcnQgeyBnZXRHZW9tZXRyeVR5cGUsIGlzQ29udHJvbGxlckJvZHksIGlzVHJpZ2dlclNoYXBlIH0gZnJvbSAnLi4vLi4vcGh5c2ljcy9jbGFzc2VzL1BoeXNpY3MnXG5pbXBvcnQgeyBSYXljYXN0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vcGh5c2ljcy9jb21wb25lbnRzL1JheWNhc3RDb21wb25lbnQnXG5pbXBvcnQgeyBCb2R5VHlwZSB9IGZyb20gJy4uLy4uL3BoeXNpY3MvdHlwZXMvUGh5c2ljc1R5cGVzJ1xuXG5jb25zdCBwYXJlbnRNYXRyaXggPSBuZXcgTWF0cml4NCgpXG5jb25zdCBjaGlsZE1hdHJpeCA9IG5ldyBNYXRyaXg0KClcbmNvbnN0IHBvcyA9IG5ldyBWZWN0b3IzKClcbmNvbnN0IHJvdCA9IG5ldyBRdWF0ZXJuaW9uKClcbmNvbnN0IHF1YXQgPSBuZXcgUXVhdGVybmlvbigpXG5jb25zdCBzY2FsZSA9IG5ldyBWZWN0b3IzKDEsIDEsIDEpXG5jb25zdCBzY2FsZTIgPSBuZXcgVmVjdG9yMygxLCAxLCAxKVxuY29uc3QgaGFsZlBJID0gTWF0aC5QSSAvIDJcblxuY29uc3QgcmF5Y2FzdFF1ZXJ5ID0gZGVmaW5lUXVlcnkoW1JheWNhc3RDb21wb25lbnRdKVxuXG5leHBvcnQgY29uc3QgRGVidWdSZW5kZXJlciA9ICgpID0+IHtcbiAgY29uc3QgX21lc2hlczogTWFwPG51bWJlciwgYW55PiA9IG5ldyBNYXA8bnVtYmVyLCBhbnk+KClcbiAgY29uc3QgX29ic3RhY2xlczogTWFwPG51bWJlciwgYW55PiA9IG5ldyBNYXA8bnVtYmVyLCBhbnk+KClcbiAgY29uc3QgX3JheWNhc3RzOiBNYXA8bnVtYmVyLCBhbnk+ID0gbmV3IE1hcDxudW1iZXIsIGFueT4oKVxuICBjb25zdCBfbWF0ZXJpYWxzOiBNYXRlcmlhbFtdID0gW1xuICAgIG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiAweGZmMDAwMCwgd2lyZWZyYW1lOiB0cnVlIH0pLFxuICAgIG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiAweDAwZmYwMCwgd2lyZWZyYW1lOiB0cnVlIH0pLFxuICAgIG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiAweDAwYWFmZiwgd2lyZWZyYW1lOiB0cnVlIH0pLFxuICAgIG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiAweGZmZmZmZiwgd2lyZWZyYW1lOiB0cnVlIH0pLFxuICAgIG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweGZmMDAwMCwgdHJhbnNwYXJlbnQ6IHRydWUsIG9wYWNpdHk6IDAuMjUgfSksXG4gICAgbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4ZmZmZmZmLCB0cmFuc3BhcmVudDogdHJ1ZSwgb3BhY2l0eTogMC4yNSB9KVxuICBdXG4gIGNvbnN0IF9zcGhlcmVHZW9tZXRyeSA9IG5ldyBTcGhlcmVCdWZmZXJHZW9tZXRyeSgxKVxuICBjb25zdCBfYm94R2VvbWV0cnkgPSBuZXcgQm94QnVmZmVyR2VvbWV0cnkoKVxuICBjb25zdCBfcGxhbmVHZW9tZXRyeSA9IG5ldyBQbGFuZUJ1ZmZlckdlb21ldHJ5KDEwMDAwLCAxMDAwMCwgMTAwLCAxMDApXG4gIGxldCBlbmFibGVkID0gZmFsc2VcblxuICBjb25zdCBzZXRFbmFibGVkID0gKF9lbmFibGVkKSA9PiB7XG4gICAgZW5hYmxlZCA9IF9lbmFibGVkXG4gICAgaWYgKCFfZW5hYmxlZCkge1xuICAgICAgX21lc2hlcy5mb3JFYWNoKChtZXNoKSA9PiB7XG4gICAgICAgIEVuZ2luZS5zY2VuZS5yZW1vdmUobWVzaClcbiAgICAgIH0pXG4gICAgICBfcmF5Y2FzdHMuZm9yRWFjaCgobWVzaCkgPT4ge1xuICAgICAgICBFbmdpbmUuc2NlbmUucmVtb3ZlKG1lc2gpXG4gICAgICB9KVxuICAgICAgX29ic3RhY2xlcy5mb3JFYWNoKChtZXNoKSA9PiB7XG4gICAgICAgIEVuZ2luZS5zY2VuZS5yZW1vdmUobWVzaClcbiAgICAgIH0pXG4gICAgICBfbWVzaGVzLmNsZWFyKClcbiAgICAgIF9yYXljYXN0cy5jbGVhcigpXG4gICAgICBfb2JzdGFjbGVzLmNsZWFyKClcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfdXBkYXRlT2JzdGFjbGUob2JzdGFjbGU6IFBoeXNYLlB4T2JzdGFjbGUsIGlkKSB7XG4gICAgaWYgKCFfb2JzdGFjbGVzLmdldChpZCkpIHtcbiAgICAgIGxldCBnZW9tXG4gICAgICBpZiAoKG9ic3RhY2xlIGFzIGFueSkuX2lzQ2Fwc3VsZSkge1xuICAgICAgICBjb25zdCByYWRpdXMgPSAob2JzdGFjbGUgYXMgUGh5c1guUHhDYXBzdWxlT2JzdGFjbGUpLmdldFJhZGl1cygpXG4gICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSAob2JzdGFjbGUgYXMgUGh5c1guUHhDYXBzdWxlT2JzdGFjbGUpLmdldEhhbGZIZWlnaHQoKVxuICAgICAgICBnZW9tID0gbmV3IENhcHN1bGVCdWZmZXJHZW9tZXRyeShyYWRpdXMsIHJhZGl1cywgaGFsZkhlaWdodCAqIDIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBoYWxmRXh0ZW50cyA9IChvYnN0YWNsZSBhcyBQaHlzWC5QeEJveE9ic3RhY2xlKS5nZXRIYWxmRXh0ZW50cygpXG4gICAgICAgIGdlb20gPSBuZXcgQm94QnVmZmVyR2VvbWV0cnkoaGFsZkV4dGVudHMueCAqIDIsIGhhbGZFeHRlbnRzLnkgKiAyLCBoYWxmRXh0ZW50cy56ICogMilcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChnZW9tLCBfbWF0ZXJpYWxzWzVdKVxuICAgICAgbWVzaC5wb3NpdGlvbi5jb3B5KG9ic3RhY2xlLmdldFBvc2l0aW9uKCkgYXMgVmVjdG9yMylcbiAgICAgIG1lc2gucXVhdGVybmlvbi5jb3B5KG9ic3RhY2xlLmdldFJvdGF0aW9uKCkgYXMgUXVhdGVybmlvbilcbiAgICAgIEVuZ2luZS5zY2VuZS5hZGQobWVzaClcbiAgICAgIF9vYnN0YWNsZXMuc2V0KGlkLCBtZXNoKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF91cGRhdGVDb250cm9sbGVyKGJvZHk6IFBoeXNYLlB4UmlnaWRBY3Rvcikge1xuICAgIGNvbnN0IHNoYXBlID0gYm9keS5fc2hhcGVzWzBdIGFzIFBoeXNYLlB4U2hhcGVcbiAgICBjb25zdCBpZCA9IHNoYXBlLl9pZFxuICAgIGxldCBtZXNoID0gX21lc2hlcy5nZXQoaWQpXG4gICAgbGV0IG5lZWRzVXBkYXRlID0gZmFsc2VcbiAgICBpZiAoYm9keS5fZGVidWdOZWVkc1VwZGF0ZSkge1xuICAgICAgaWYgKG1lc2gpIHtcbiAgICAgICAgRW5naW5lLnNjZW5lLnJlbW92ZShtZXNoKVxuICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgIH1cbiAgICAgIGJvZHkuX2RlYnVnTmVlZHNVcGRhdGUgPSBmYWxzZVxuICAgIH1cblxuICAgIGlmICghbWVzaCB8fCBuZWVkc1VwZGF0ZSkge1xuICAgICAgY29uc3QgZ2VvbWV0cnlUeXBlID0gZ2V0R2VvbWV0cnlUeXBlKHNoYXBlKVxuICAgICAgaWYgKGdlb21ldHJ5VHlwZSA9PT0gUGh5c1guUHhHZW9tZXRyeVR5cGUuZUNBUFNVTEUudmFsdWUpIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgUGh5c1guUHhDYXBzdWxlR2VvbWV0cnkoMSwgMSlcbiAgICAgICAgc2hhcGUuZ2V0Q2Fwc3VsZUdlb21ldHJ5KGdlb21ldHJ5KVxuICAgICAgICBtZXNoID0gbmV3IE1lc2goXG4gICAgICAgICAgbmV3IENhcHN1bGVCdWZmZXJHZW9tZXRyeShcbiAgICAgICAgICAgIGNsYW1wTm9uemVyb1Bvc2l0aXZlKGdlb21ldHJ5LnJhZGl1cyAvIDAuOCksXG4gICAgICAgICAgICBjbGFtcE5vbnplcm9Qb3NpdGl2ZShnZW9tZXRyeS5yYWRpdXMgLyAwLjgpLFxuICAgICAgICAgICAgY2xhbXBOb256ZXJvUG9zaXRpdmUoZ2VvbWV0cnkuaGFsZkhlaWdodCAvIDAuOCkgKiAyXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfbWF0ZXJpYWxzW0JvZHlUeXBlLkNPTlRST0xMRVJdXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IFBoeXNYLlB4Qm94R2VvbWV0cnkoMSwgMSwgMSlcbiAgICAgICAgc2hhcGUuZ2V0Qm94R2VvbWV0cnkoZ2VvbWV0cnkpXG4gICAgICAgIGNvbnN0IHsgeCwgeSwgeiB9ID0gZ2VvbWV0cnkuaGFsZkV4dGVudHNcbiAgICAgICAgbWVzaCA9IG5ldyBNZXNoKFxuICAgICAgICAgIG5ldyBCb3hCdWZmZXJHZW9tZXRyeShjbGFtcE5vbnplcm9Qb3NpdGl2ZSh4ICogMiksIGNsYW1wTm9uemVyb1Bvc2l0aXZlKHkgKiAyKSwgY2xhbXBOb256ZXJvUG9zaXRpdmUoeiAqIDIpKSxcbiAgICAgICAgICBfbWF0ZXJpYWxzW0JvZHlUeXBlLkNPTlRST0xMRVJdXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIF9tZXNoZXMuc2V0KGlkLCBtZXNoKVxuICAgICAgRW5naW5lLnNjZW5lLmFkZChtZXNoKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF91cGRhdGVNZXNoKGJvZHk6IFBoeXNYLlB4UmlnaWRBY3RvciwgaWQ6IG51bWJlciwgc2hhcGU6IFBoeXNYLlB4U2hhcGUpIHtcbiAgICBsZXQgbWVzaCA9IF9tZXNoZXMuZ2V0KGlkKVxuICAgIGxldCBuZWVkc1VwZGF0ZSA9IGZhbHNlXG4gICAgaWYgKHNoYXBlLl9kZWJ1Z05lZWRzVXBkYXRlKSB7XG4gICAgICBpZiAobWVzaCkge1xuICAgICAgICBFbmdpbmUuc2NlbmUucmVtb3ZlKG1lc2gpXG4gICAgICAgIG5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgfVxuICAgICAgZGVsZXRlIHNoYXBlLl9kZWJ1Z05lZWRzVXBkYXRlXG4gICAgfVxuICAgIGlmICghbWVzaCB8fCBuZWVkc1VwZGF0ZSkge1xuICAgICAgbWVzaCA9IF9jcmVhdGVNZXNoKHNoYXBlLCBib2R5KVxuICAgICAgX21lc2hlcy5zZXQoaWQsIG1lc2gpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZU1lc2goc2hhcGU6IFBoeXNYLlB4U2hhcGUsIGJvZHk6IFBoeXNYLlB4UmlnaWRBY3Rvcik6IE1lc2ggfCBQb2ludHMge1xuICAgIGNvbnN0IGlzVHJpZ2dlciA9IGlzVHJpZ2dlclNoYXBlKHNoYXBlKVxuICAgIGNvbnN0IGdlb21ldHJ5VHlwZSA9IGdldEdlb21ldHJ5VHlwZShzaGFwZSlcbiAgICBsZXQgbWVzaDogTWVzaFxuICAgIGNvbnN0IG1hdGVyaWFsOiBNYXRlcmlhbCA9IF9tYXRlcmlhbHNbaXNUcmlnZ2VyID8gNCA6IGJvZHkuX3R5cGVdXG5cbiAgICBzd2l0Y2ggKGdlb21ldHJ5VHlwZSkge1xuICAgICAgY2FzZSBQaHlzWC5QeEdlb21ldHJ5VHlwZS5lU1BIRVJFLnZhbHVlOiB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IFBoeXNYLlB4U3BoZXJlR2VvbWV0cnkoMSlcbiAgICAgICAgc2hhcGUuZ2V0U3BoZXJlR2VvbWV0cnkoZ2VvbWV0cnkpXG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IGNsYW1wTm9uemVyb1Bvc2l0aXZlKGdlb21ldHJ5LnJhZGl1cylcbiAgICAgICAgbWVzaCA9IG5ldyBNZXNoKF9zcGhlcmVHZW9tZXRyeSwgbWF0ZXJpYWwpXG4gICAgICAgIG1lc2guc2NhbGUuc2V0KHJhZGl1cywgcmFkaXVzLCByYWRpdXMpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgUGh5c1guUHhHZW9tZXRyeVR5cGUuZUNBUFNVTEUudmFsdWU6IHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgUGh5c1guUHhDYXBzdWxlR2VvbWV0cnkoMSwgMSlcbiAgICAgICAgc2hhcGUuZ2V0Q2Fwc3VsZUdlb21ldHJ5KGdlb21ldHJ5KVxuICAgICAgICBtZXNoID0gbmV3IE1lc2goXG4gICAgICAgICAgbmV3IENhcHN1bGVCdWZmZXJHZW9tZXRyeShcbiAgICAgICAgICAgIGNsYW1wTm9uemVyb1Bvc2l0aXZlKGdlb21ldHJ5LnJhZGl1cyksXG4gICAgICAgICAgICBjbGFtcE5vbnplcm9Qb3NpdGl2ZShnZW9tZXRyeS5yYWRpdXMpLFxuICAgICAgICAgICAgY2xhbXBOb256ZXJvUG9zaXRpdmUoZ2VvbWV0cnkuaGFsZkhlaWdodCkgKiAyXG4gICAgICAgICAgKSxcbiAgICAgICAgICBtYXRlcmlhbFxuICAgICAgICApXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgUGh5c1guUHhHZW9tZXRyeVR5cGUuZUJPWC52YWx1ZToge1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBQaHlzWC5QeEJveEdlb21ldHJ5KDEsIDEsIDEpXG4gICAgICAgIHNoYXBlLmdldEJveEdlb21ldHJ5KGdlb21ldHJ5KVxuICAgICAgICBjb25zdCB7IHgsIHksIHogfSA9IGdlb21ldHJ5LmhhbGZFeHRlbnRzXG4gICAgICAgIG1lc2ggPSBuZXcgTWVzaChfYm94R2VvbWV0cnksIG1hdGVyaWFsKVxuICAgICAgICBtZXNoLnNjYWxlLnNldChjbGFtcE5vbnplcm9Qb3NpdGl2ZSh4KSwgY2xhbXBOb256ZXJvUG9zaXRpdmUoeSksIGNsYW1wTm9uemVyb1Bvc2l0aXZlKHopKS5tdWx0aXBseVNjYWxhcigyKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlIFBoeXNYLlB4R2VvbWV0cnlUeXBlLmVQTEFORS52YWx1ZToge1xuICAgICAgICBtZXNoID0gbmV3IE1lc2goX3BsYW5lR2VvbWV0cnkuY2xvbmUoKSwgbWF0ZXJpYWwpXG4gICAgICAgIG1lc2gucXVhdGVybmlvbi5jb3B5KHNoYXBlLmdldExvY2FsUG9zZSgpLnJvdGF0aW9uIGFzIFF1YXRlcm5pb24pXG4gICAgICAgIC8vIGlka1xuICAgICAgICBtZXNoLmdlb21ldHJ5LnJvdGF0ZVkoLWhhbGZQSSlcbiAgICAgICAgbWVzaC5nZW9tZXRyeS5yb3RhdGVYKC1oYWxmUEkpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgUGh5c1guUHhHZW9tZXRyeVR5cGUuZUNPTlZFWE1FU0gudmFsdWU6IHtcbiAgICAgICAgY29uc3QgdmVydHMgPSBzaGFwZS5fdmVydGljZXMgYXMgbnVtYmVyW11cbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IHNoYXBlLl9pbmRpY2VzIGFzIG51bWJlcltdXG4gICAgICAgIGNvbnN0IHNjYWxlID0gc2hhcGUuX3NjYWxlIGFzIFZlY3RvcjNcbiAgICAgICAgY29uc3QgYnVmZmVyR2VvbWV0cnkgPSBuZXcgQnVmZmVyR2VvbWV0cnkoKVxuICAgICAgICBidWZmZXJHZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydHMsIDMpKVxuICAgICAgICBidWZmZXJHZW9tZXRyeS5zZXRJbmRleChpbmRpY2VzKVxuICAgICAgICBidWZmZXJHZW9tZXRyeS5zY2FsZShzY2FsZS54LCBzY2FsZS55LCBzY2FsZS56KVxuICAgICAgICBtZXNoID0gbmV3IE1lc2goYnVmZmVyR2VvbWV0cnksIG1hdGVyaWFsKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlIFBoeXNYLlB4R2VvbWV0cnlUeXBlLmVUUklBTkdMRU1FU0gudmFsdWU6IHtcbiAgICAgICAgY29uc3QgdmVydHMgPSBzaGFwZS5fdmVydGljZXMgYXMgbnVtYmVyW11cbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IHNoYXBlLl9pbmRpY2VzIGFzIG51bWJlcltdXG4gICAgICAgIGNvbnN0IHNjYWxlID0gc2hhcGUuX3NjYWxlIGFzIFZlY3RvcjNcbiAgICAgICAgY29uc3QgYnVmZmVyR2VvbWV0cnkgPSBuZXcgQnVmZmVyR2VvbWV0cnkoKVxuICAgICAgICBidWZmZXJHZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydHMsIDMpKVxuICAgICAgICBidWZmZXJHZW9tZXRyeS5zZXRJbmRleChpbmRpY2VzKVxuICAgICAgICBidWZmZXJHZW9tZXRyeS5zY2FsZShzY2FsZS54LCBzY2FsZS55LCBzY2FsZS56KVxuICAgICAgICBtZXNoID0gbmV3IE1lc2goYnVmZmVyR2VvbWV0cnksIG1hdGVyaWFsKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbWVzaCA9IG5ldyBNZXNoKClcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBpZiAobWVzaCAmJiBtZXNoLmdlb21ldHJ5KSB7XG4gICAgICBFbmdpbmUuc2NlbmUuYWRkKG1lc2gpXG4gICAgfVxuXG4gICAgcmV0dXJuIG1lc2hcbiAgfVxuXG4gIHJldHVybiAod29ybGQ6IFdvcmxkLCBfZW5hYmxlZDogYm9vbGVhbikgPT4ge1xuICAgIGlmIChlbmFibGVkICE9PSBfZW5hYmxlZCkge1xuICAgICAgZW5hYmxlZCA9IF9lbmFibGVkXG4gICAgICBzZXRFbmFibGVkKF9lbmFibGVkKVxuICAgIH1cblxuICAgIGlmICghZW5hYmxlZCkgcmV0dXJuXG5cbiAgICB3b3JsZC5waHlzaWNzLmJvZGllcy5mb3JFYWNoKChib2R5OiBQaHlzWC5QeFJpZ2lkQWN0b3IpID0+IHtcbiAgICAgIGNvbnN0IHBvc2UgPSBib2R5LmdldEdsb2JhbFBvc2UoKVxuICAgICAgcG9zLnNldChwb3NlLnRyYW5zbGF0aW9uLngsIHBvc2UudHJhbnNsYXRpb24ueSwgcG9zZS50cmFuc2xhdGlvbi56KVxuICAgICAgaWYgKGlzQ29udHJvbGxlckJvZHkoYm9keSkpIHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlclNoYXBlSUQgPSBib2R5Ll9zaGFwZXNbMF0uX2lkXG4gICAgICAgIF91cGRhdGVDb250cm9sbGVyKGJvZHkpXG4gICAgICAgIF9tZXNoZXMuZ2V0KGNvbnRyb2xsZXJTaGFwZUlEKS5wb3NpdGlvbi5jb3B5KHBvcylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICByb3Quc2V0KHBvc2Uucm90YXRpb24ueCwgcG9zZS5yb3RhdGlvbi55LCBwb3NlLnJvdGF0aW9uLnosIHBvc2Uucm90YXRpb24udylcbiAgICAgIHBhcmVudE1hdHJpeC5jb21wb3NlKHBvcywgcm90LCBzY2FsZSlcbiAgICAgIGJvZHkuX3NoYXBlcz8uZm9yRWFjaCgoc2hhcGU6IFBoeXNYLlB4U2hhcGUpID0+IHtcbiAgICAgICAgY29uc3QgbG9jYWxQb3NlID0gc2hhcGUuZ2V0TG9jYWxQb3NlKClcbiAgICAgICAgX3VwZGF0ZU1lc2goYm9keSwgc2hhcGUuX2lkLCBzaGFwZSlcblxuICAgICAgICBpZiAoX21lc2hlcy5nZXQoc2hhcGUuX2lkKSkge1xuICAgICAgICAgIC8vIENvcHkgdG8gbWVzaGVzXG4gICAgICAgICAgcG9zLnNldChsb2NhbFBvc2UudHJhbnNsYXRpb24ueCwgbG9jYWxQb3NlLnRyYW5zbGF0aW9uLnksIGxvY2FsUG9zZS50cmFuc2xhdGlvbi56KVxuICAgICAgICAgIHJvdC5zZXQobG9jYWxQb3NlLnJvdGF0aW9uLngsIGxvY2FsUG9zZS5yb3RhdGlvbi55LCBsb2NhbFBvc2Uucm90YXRpb24ueiwgbG9jYWxQb3NlLnJvdGF0aW9uLncpXG4gICAgICAgICAgY2hpbGRNYXRyaXguY29tcG9zZShwb3MsIHJvdCwgc2NhbGUpXG4gICAgICAgICAgY2hpbGRNYXRyaXgucHJlbXVsdGlwbHkocGFyZW50TWF0cml4KVxuICAgICAgICAgIGNoaWxkTWF0cml4LmRlY29tcG9zZShwb3MsIHJvdCwgc2NhbGUyKVxuICAgICAgICAgIF9tZXNoZXMuZ2V0KHNoYXBlLl9pZCkucG9zaXRpb24uY29weShwb3MpXG4gICAgICAgICAgX21lc2hlcy5nZXQoc2hhcGUuX2lkKS5xdWF0ZXJuaW9uLmNvcHkocm90KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gICAgd29ybGQucGh5c2ljcy5vYnN0YWNsZXMuZm9yRWFjaCgob2JzdGFjbGUsIGlkKSA9PiB7XG4gICAgICBfdXBkYXRlT2JzdGFjbGUob2JzdGFjbGUsIGlkKVxuICAgIH0pXG4gICAgX29ic3RhY2xlcy5mb3JFYWNoKChtZXNoLCBpZCkgPT4ge1xuICAgICAgaWYgKCF3b3JsZC5waHlzaWNzLm9ic3RhY2xlcy5oYXMoaWQpKSB7XG4gICAgICAgIEVuZ2luZS5zY2VuZS5yZW1vdmUobWVzaClcbiAgICAgICAgX21lc2hlcy5kZWxldGUoaWQpXG4gICAgICB9XG4gICAgfSlcbiAgICBfbWVzaGVzLmZvckVhY2goKG1lc2gsIGlkKSA9PiB7XG4gICAgICBpZiAoIXdvcmxkLnBoeXNpY3Muc2hhcGVzLmhhcyhpZCkpIHtcbiAgICAgICAgRW5naW5lLnNjZW5lLnJlbW92ZShtZXNoKVxuICAgICAgICBfbWVzaGVzLmRlbGV0ZShpZClcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5cbmNvbnN0IGNsYW1wTm9uemVyb1Bvc2l0aXZlID0gKG51bSkgPT4ge1xuICByZXR1cm4gTWF0aC5tYXgoMC4wMDAwMSwgbnVtKVxufVxuIiwiaW1wb3J0IHtcbiAgQXJyb3dIZWxwZXIsXG4gIEJveDMsXG4gIEJveDNIZWxwZXIsXG4gIENvbG9yLFxuICBDb25lQnVmZmVyR2VvbWV0cnksXG4gIERvdWJsZVNpZGUsXG4gIEdyb3VwLFxuICBNZXNoLFxuICBNZXNoQmFzaWNNYXRlcmlhbCxcbiAgT2JqZWN0M0QsXG4gIFF1YXRlcm5pb24sXG4gIFZlY3RvcjNcbn0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBBdmF0YXJDb21wb25lbnQgfSBmcm9tICcuLi8uLi9hdmF0YXIvY29tcG9uZW50cy9BdmF0YXJDb21wb25lbnQnXG5pbXBvcnQgeyBYUklucHV0U291cmNlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vYXZhdGFyL2NvbXBvbmVudHMvWFJJbnB1dFNvdXJjZUNvbXBvbmVudCdcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VuZ2luZSdcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VudGl0eSdcbmltcG9ydCB7IGRlZmluZVF1ZXJ5LCBnZXRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcbmltcG9ydCB7IEJvdW5kaW5nQm94Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vaW50ZXJhY3Rpb24vY29tcG9uZW50cy9Cb3VuZGluZ0JveENvbXBvbmVudCdcbmltcG9ydCB7IE5hdk1lc2hDb21wb25lbnQgfSBmcm9tICcuLi8uLi9uYXZpZ2F0aW9uL2NvbXBvbmVudC9OYXZNZXNoQ29tcG9uZW50J1xuaW1wb3J0IHsgY3JlYXRlQ29udmV4UmVnaW9uSGVscGVyIH0gZnJvbSAnLi4vLi4vbmF2aWdhdGlvbi9OYXZNZXNoSGVscGVyJ1xuaW1wb3J0IHsgY3JlYXRlR3JhcGhIZWxwZXIgfSBmcm9tICcuLi8uLi9uYXZpZ2F0aW9uL0dyYXBoSGVscGVyJ1xuaW1wb3J0IHsgQ29sbGlkZXJDb21wb25lbnQgfSBmcm9tICcuLi8uLi9waHlzaWNzL2NvbXBvbmVudHMvQ29sbGlkZXJDb21wb25lbnQnXG5pbXBvcnQgeyBWZWxvY2l0eUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3BoeXNpY3MvY29tcG9uZW50cy9WZWxvY2l0eUNvbXBvbmVudCdcbmltcG9ydCB7IE9iamVjdDNEQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vc2NlbmUvY29tcG9uZW50cy9PYmplY3QzRENvbXBvbmVudCdcbmltcG9ydCB7IFRyYW5zZm9ybUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS9jb21wb25lbnRzL1RyYW5zZm9ybUNvbXBvbmVudCdcbmltcG9ydCB7IERlYnVnQXJyb3dDb21wb25lbnQgfSBmcm9tICcuLi9EZWJ1Z0Fycm93Q29tcG9uZW50J1xuaW1wb3J0IHsgRGVidWdSZW5kZXJlciB9IGZyb20gJy4vRGVidWdSZW5kZXJlcidcbmltcG9ydCB7IERlYnVnTmF2TWVzaENvbXBvbmVudCB9IGZyb20gJy4uL0RlYnVnTmF2TWVzaENvbXBvbmVudCdcbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL1N5c3RlbSdcbmltcG9ydCB7IFdvcmxkIH0gZnJvbSAnLi4vLi4vZWNzL2NsYXNzZXMvV29ybGQnXG5pbXBvcnQgeyBpc1N0YXRpY0JvZHkgfSBmcm9tICcuLi8uLi9waHlzaWNzL2NsYXNzZXMvUGh5c2ljcydcbmltcG9ydCB7IEVuZ2luZUV2ZW50cyB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VuZ2luZUV2ZW50cydcblxudHlwZSBDb21wb25lbnRIZWxwZXJzID0gJ3ZpZXdWZWN0b3InIHwgJ2lrRXh0ZW50cycgfCAnaGVscGVyQXJyb3cnIHwgJ3ZlbG9jaXR5QXJyb3cnIHwgJ2JveCcgfCAnbmF2bWVzaCcgfCAnbmF2cGF0aCdcblxuY29uc3QgdmVjdG9yMyA9IG5ldyBWZWN0b3IzKClcbmNvbnN0IHF1YXQgPSBuZXcgUXVhdGVybmlvbigpXG5cbmNvbnN0IGN1YmVHZW9tZXRyeSA9IG5ldyBDb25lQnVmZmVyR2VvbWV0cnkoMC4wNSwgMC4yNSwgNClcbmN1YmVHZW9tZXRyeS5yb3RhdGVYKC1NYXRoLlBJICogMC41KVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBEZWJ1Z0hlbHBlcnNTeXN0ZW0od29ybGQ6IFdvcmxkKTogUHJvbWlzZTxTeXN0ZW0+IHtcbiAgY29uc3QgaGVscGVyc0J5RW50aXR5OiBSZWNvcmQ8Q29tcG9uZW50SGVscGVycywgTWFwPEVudGl0eSwgYW55Pj4gPSB7XG4gICAgdmlld1ZlY3RvcjogbmV3IE1hcCgpLFxuICAgIGlrRXh0ZW50czogbmV3IE1hcCgpLFxuICAgIGJveDogbmV3IE1hcCgpLFxuICAgIGhlbHBlckFycm93OiBuZXcgTWFwKCksXG4gICAgdmVsb2NpdHlBcnJvdzogbmV3IE1hcCgpLFxuICAgIG5hdm1lc2g6IG5ldyBNYXAoKSxcbiAgICBuYXZwYXRoOiBuZXcgTWFwKClcbiAgfVxuXG4gIGxldCBwaHlzaWNzRGVidWdSZW5kZXJlciA9IERlYnVnUmVuZGVyZXIoKVxuXG4gIGxldCBwaHlzaWNzRGVidWdFbmFibGVkID0gZmFsc2VcbiAgbGV0IGF2YXRhckRlYnVnRW5hYmxlZCA9IGZhbHNlXG5cbiAgRW5naW5lRXZlbnRzLmluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXIoRW5naW5lRXZlbnRzLkVWRU5UUy5BVkFUQVJfREVCVUcsICh7IGVuYWJsZWQgfSkgPT4ge1xuICAgIGF2YXRhckRlYnVnRW5hYmxlZCA9IGVuYWJsZWRcbiAgICBoZWxwZXJzQnlFbnRpdHkudmlld1ZlY3Rvci5mb3JFYWNoKChvYmo6IE9iamVjdDNEKSA9PiB7XG4gICAgICBvYmoudmlzaWJsZSA9IGVuYWJsZWRcbiAgICB9KVxuICAgIGhlbHBlcnNCeUVudGl0eS52ZWxvY2l0eUFycm93LmZvckVhY2goKG9iajogT2JqZWN0M0QpID0+IHtcbiAgICAgIG9iai52aXNpYmxlID0gZW5hYmxlZFxuICAgIH0pXG4gICAgaGVscGVyc0J5RW50aXR5LmlrRXh0ZW50cy5mb3JFYWNoKChlbnRyeTogT2JqZWN0M0RbXSkgPT4ge1xuICAgICAgZW50cnkuZm9yRWFjaCgob2JqKSA9PiAob2JqLnZpc2libGUgPSBlbmFibGVkKSlcbiAgICB9KVxuICB9KVxuXG4gIEVuZ2luZUV2ZW50cy5pbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyKEVuZ2luZUV2ZW50cy5FVkVOVFMuUEhZU0lDU19ERUJVRywgKHsgZW5hYmxlZCB9KSA9PiB7XG4gICAgcGh5c2ljc0RlYnVnRW5hYmxlZCA9IGVuYWJsZWRcbiAgICBoZWxwZXJzQnlFbnRpdHkuaGVscGVyQXJyb3cuZm9yRWFjaCgob2JqOiBPYmplY3QzRCkgPT4ge1xuICAgICAgb2JqLnZpc2libGUgPSBlbmFibGVkXG4gICAgfSlcbiAgICBoZWxwZXJzQnlFbnRpdHkuYm94LmZvckVhY2goKGVudHJ5OiBPYmplY3QzRFtdKSA9PiB7XG4gICAgICBlbnRyeS5mb3JFYWNoKChvYmopID0+IChvYmoudmlzaWJsZSA9IGVuYWJsZWQpKVxuICAgIH0pXG4gIH0pXG5cbiAgY29uc3QgYXZhdGFyRGVidWdRdWVyeSA9IGRlZmluZVF1ZXJ5KFtBdmF0YXJDb21wb25lbnRdKVxuICBjb25zdCBib3VuZGluZ0JveFF1ZXJ5ID0gZGVmaW5lUXVlcnkoW0JvdW5kaW5nQm94Q29tcG9uZW50XSlcbiAgY29uc3QgY29sbGlkZXJRdWVyeSA9IGRlZmluZVF1ZXJ5KFtDb2xsaWRlckNvbXBvbmVudF0pXG4gIGNvbnN0IGFycm93SGVscGVyUXVlcnkgPSBkZWZpbmVRdWVyeShbRGVidWdBcnJvd0NvbXBvbmVudF0pXG4gIGNvbnN0IGlrQXZhdGFyUXVlcnkgPSBkZWZpbmVRdWVyeShbWFJJbnB1dFNvdXJjZUNvbXBvbmVudF0pXG4gIGNvbnN0IG5hdm1lc2hRdWVyeSA9IGRlZmluZVF1ZXJ5KFtEZWJ1Z05hdk1lc2hDb21wb25lbnQsIE5hdk1lc2hDb21wb25lbnRdKVxuICAvLyBjb25zdCBuYXZwYXRoUXVlcnkgPSBkZWZpbmVRdWVyeShbQXV0b1BpbG90Q29tcG9uZW50XSlcbiAgLy8gY29uc3QgbmF2cGF0aEFkZFF1ZXJ5ID0gZW50ZXJRdWVyeShuYXZwYXRoUXVlcnkpXG4gIC8vIGNvbnN0IG5hdnBhdGhSZW1vdmVRdWVyeSA9IGV4aXRRdWVyeShuYXZwYXRoUXVlcnkpXG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICAvLyA9PT09PSBBVkFUQVIgPT09PT0gLy9cblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGF2YXRhckRlYnVnUXVlcnkuZW50ZXIoKSkge1xuICAgICAgY29uc3QgYXZhdGFyID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgQXZhdGFyQ29tcG9uZW50KVxuXG4gICAgICAvLyB2aWV3IHZlY3RvclxuICAgICAgY29uc3Qgb3JpZ2luID0gbmV3IFZlY3RvcjMoMCwgMiwgMClcbiAgICAgIGNvbnN0IGxlbmd0aCA9IDAuNVxuICAgICAgY29uc3QgaGV4ID0gMHhmZmZmMDBcbiAgICAgIGlmICghYXZhdGFyIHx8ICFhdmF0YXIudmlld1ZlY3Rvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ2F2YXRhci52aWV3VmVjdG9yIGlzIG51bGwnKVxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuICAgICAgLy8gY29uc3QgYXJyb3dIZWxwZXIgPSBuZXcgQXJyb3dIZWxwZXIoYXZhdGFyLnZpZXdWZWN0b3IuY2xvbmUoKS5ub3JtYWxpemUoKSwgb3JpZ2luLCBsZW5ndGgsIGhleClcbiAgICAgIC8vIGFycm93SGVscGVyLnZpc2libGUgPSBhdmF0YXJEZWJ1Z0VuYWJsZWRcbiAgICAgIC8vIEVuZ2luZS5zY2VuZS5hZGQoYXJyb3dIZWxwZXIpXG4gICAgICAvLyBoZWxwZXJzQnlFbnRpdHkudmlld1ZlY3Rvci5zZXQoZW50aXR5LCBhcnJvd0hlbHBlcilcblxuICAgICAgLy8gdmVsb2NpdHlcbiAgICAgIGNvbnN0IHZlbG9jaXR5Q29sb3IgPSAweDAwMDBmZlxuICAgICAgY29uc3QgdmVsb2NpdHlBcnJvd0hlbHBlciA9IG5ldyBBcnJvd0hlbHBlcihuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygwLCAwLCAwKSwgMC41LCB2ZWxvY2l0eUNvbG9yKVxuICAgICAgdmVsb2NpdHlBcnJvd0hlbHBlci52aXNpYmxlID0gYXZhdGFyRGVidWdFbmFibGVkXG4gICAgICBFbmdpbmUuc2NlbmUuYWRkKHZlbG9jaXR5QXJyb3dIZWxwZXIpXG4gICAgICBoZWxwZXJzQnlFbnRpdHkudmVsb2NpdHlBcnJvdy5zZXQoZW50aXR5LCB2ZWxvY2l0eUFycm93SGVscGVyKVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGF2YXRhckRlYnVnUXVlcnkuZXhpdCgpKSB7XG4gICAgICAvLyB2aWV3IHZlY3RvclxuICAgICAgLy8gY29uc3QgYXJyb3dIZWxwZXIgPSBoZWxwZXJzQnlFbnRpdHkudmlld1ZlY3Rvci5nZXQoZW50aXR5KSBhcyBPYmplY3QzRFxuICAgICAgLy8gRW5naW5lLnNjZW5lLnJlbW92ZShhcnJvd0hlbHBlcilcbiAgICAgIC8vIGhlbHBlcnNCeUVudGl0eS52aWV3VmVjdG9yLmRlbGV0ZShlbnRpdHkpXG5cbiAgICAgIC8vIHZlbG9jaXR5XG4gICAgICBjb25zdCB2ZWxvY2l0eUFycm93SGVscGVyID0gaGVscGVyc0J5RW50aXR5LnZlbG9jaXR5QXJyb3cuZ2V0KGVudGl0eSkgYXMgT2JqZWN0M0RcbiAgICAgIEVuZ2luZS5zY2VuZS5yZW1vdmUodmVsb2NpdHlBcnJvd0hlbHBlcilcbiAgICAgIGhlbHBlcnNCeUVudGl0eS52ZWxvY2l0eUFycm93LmRlbGV0ZShlbnRpdHkpXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgYXZhdGFyRGVidWdRdWVyeSgpKSB7XG4gICAgICAvLyB2aWV3IHZlY3RvclxuICAgICAgY29uc3QgYXZhdGFyID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgQXZhdGFyQ29tcG9uZW50KVxuICAgICAgY29uc3QgdmVsb2NpdHkgPSBnZXRDb21wb25lbnQoZW50aXR5LCBWZWxvY2l0eUNvbXBvbmVudClcbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IGdldENvbXBvbmVudChlbnRpdHksIFRyYW5zZm9ybUNvbXBvbmVudClcbiAgICAgIC8vIGNvbnN0IGFycm93SGVscGVyID0gaGVscGVyc0J5RW50aXR5LnZpZXdWZWN0b3IuZ2V0KGVudGl0eSkgYXMgQXJyb3dIZWxwZXJcblxuICAgICAgLy8gaWYgKGFycm93SGVscGVyICE9IG51bGwpIHtcbiAgICAgIC8vICAgYXJyb3dIZWxwZXIuc2V0RGlyZWN0aW9uKHZlY3RvcjMuY29weShhdmF0YXIudmlld1ZlY3Rvcikuc2V0WSgwKS5ub3JtYWxpemUoKSlcbiAgICAgIC8vICAgYXJyb3dIZWxwZXIucG9zaXRpb24uY29weSh0cmFuc2Zvcm0ucG9zaXRpb24pLnkgKz0gYXZhdGFyLmF2YXRhckhhbGZIZWlnaHRcbiAgICAgIC8vIH1cblxuICAgICAgLy8gdmVsb2NpdHlcbiAgICAgIGNvbnN0IHZlbG9jaXR5QXJyb3dIZWxwZXIgPSBoZWxwZXJzQnlFbnRpdHkudmVsb2NpdHlBcnJvdy5nZXQoZW50aXR5KSBhcyBBcnJvd0hlbHBlclxuICAgICAgaWYgKHZlbG9jaXR5QXJyb3dIZWxwZXIgIT0gbnVsbCkge1xuICAgICAgICB2ZWxvY2l0eUFycm93SGVscGVyLnNldERpcmVjdGlvbih2ZWN0b3IzLmNvcHkodmVsb2NpdHkudmVsb2NpdHkpLm5vcm1hbGl6ZSgpKVxuICAgICAgICB2ZWxvY2l0eUFycm93SGVscGVyLnNldExlbmd0aCh2ZWxvY2l0eS52ZWxvY2l0eS5sZW5ndGgoKSAqIDIwKVxuICAgICAgICB2ZWxvY2l0eUFycm93SGVscGVyLnBvc2l0aW9uLmNvcHkodHJhbnNmb3JtLnBvc2l0aW9uKS55ICs9IGF2YXRhci5hdmF0YXJIYWxmSGVpZ2h0XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgaWtBdmF0YXJRdWVyeS5lbnRlcigpKSB7XG4gICAgICBjb25zdCBkZWJ1Z0hlYWQgPSBuZXcgTWVzaChjdWJlR2VvbWV0cnksIG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiBuZXcgQ29sb3IoJ3JlZCcpLCBzaWRlOiBEb3VibGVTaWRlIH0pKVxuICAgICAgY29uc3QgZGVidWdMZWZ0ID0gbmV3IE1lc2goY3ViZUdlb21ldHJ5LCBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogbmV3IENvbG9yKCd5ZWxsb3cnKSB9KSlcbiAgICAgIGNvbnN0IGRlYnVnUmlnaHQgPSBuZXcgTWVzaChjdWJlR2VvbWV0cnksIG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiBuZXcgQ29sb3IoJ2JsdWUnKSB9KSlcbiAgICAgIGRlYnVnSGVhZC52aXNpYmxlID0gYXZhdGFyRGVidWdFbmFibGVkXG4gICAgICBkZWJ1Z0xlZnQudmlzaWJsZSA9IGF2YXRhckRlYnVnRW5hYmxlZFxuICAgICAgZGVidWdSaWdodC52aXNpYmxlID0gYXZhdGFyRGVidWdFbmFibGVkXG4gICAgICBFbmdpbmUuc2NlbmUuYWRkKGRlYnVnSGVhZClcbiAgICAgIEVuZ2luZS5zY2VuZS5hZGQoZGVidWdMZWZ0KVxuICAgICAgRW5naW5lLnNjZW5lLmFkZChkZWJ1Z1JpZ2h0KVxuICAgICAgaGVscGVyc0J5RW50aXR5LmlrRXh0ZW50cy5zZXQoZW50aXR5LCBbZGVidWdIZWFkLCBkZWJ1Z0xlZnQsIGRlYnVnUmlnaHRdKVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGlrQXZhdGFyUXVlcnkoKSkge1xuICAgICAgY29uc3QgeHJJbnB1dFNvdXJjZUNvbXBvbmVudCA9IGdldENvbXBvbmVudChlbnRpdHksIFhSSW5wdXRTb3VyY2VDb21wb25lbnQpXG4gICAgICBjb25zdCBbZGVidWdIZWFkLCBkZWJ1Z0xlZnQsIGRlYnVnUmlnaHRdID0gaGVscGVyc0J5RW50aXR5LmlrRXh0ZW50cy5nZXQoZW50aXR5KSBhcyBPYmplY3QzRFtdXG4gICAgICBkZWJ1Z0hlYWQucG9zaXRpb24uY29weSh4cklucHV0U291cmNlQ29tcG9uZW50LmhlYWQuZ2V0V29ybGRQb3NpdGlvbih2ZWN0b3IzKSlcbiAgICAgIGRlYnVnSGVhZC5xdWF0ZXJuaW9uLmNvcHkoeHJJbnB1dFNvdXJjZUNvbXBvbmVudC5oZWFkLmdldFdvcmxkUXVhdGVybmlvbihxdWF0KSlcbiAgICAgIGRlYnVnTGVmdC5wb3NpdGlvbi5jb3B5KHhySW5wdXRTb3VyY2VDb21wb25lbnQuY29udHJvbGxlckxlZnQuZ2V0V29ybGRQb3NpdGlvbih2ZWN0b3IzKSlcbiAgICAgIGRlYnVnTGVmdC5xdWF0ZXJuaW9uLmNvcHkoeHJJbnB1dFNvdXJjZUNvbXBvbmVudC5jb250cm9sbGVyTGVmdC5nZXRXb3JsZFF1YXRlcm5pb24ocXVhdCkpXG4gICAgICBkZWJ1Z1JpZ2h0LnBvc2l0aW9uLmNvcHkoeHJJbnB1dFNvdXJjZUNvbXBvbmVudC5jb250cm9sbGVyUmlnaHQuZ2V0V29ybGRQb3NpdGlvbih2ZWN0b3IzKSlcbiAgICAgIGRlYnVnUmlnaHQucXVhdGVybmlvbi5jb3B5KHhySW5wdXRTb3VyY2VDb21wb25lbnQuY29udHJvbGxlclJpZ2h0LmdldFdvcmxkUXVhdGVybmlvbihxdWF0KSlcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBpa0F2YXRhclF1ZXJ5LmV4aXQoKSkge1xuICAgICAgOyhoZWxwZXJzQnlFbnRpdHkuaWtFeHRlbnRzLmdldChlbnRpdHkpIGFzIE9iamVjdDNEW10pLmZvckVhY2goKG9iajogT2JqZWN0M0QpID0+IHtcbiAgICAgICAgb2JqLnJlbW92ZUZyb21QYXJlbnQoKVxuICAgICAgfSlcbiAgICAgIGhlbHBlcnNCeUVudGl0eS5pa0V4dGVudHMuZGVsZXRlKGVudGl0eSlcbiAgICB9XG5cbiAgICAvLyA9PT09PSBDT0xMSURFUlMgPT09PT0gLy9cblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGNvbGxpZGVyUXVlcnkuZXhpdCgpKSB7XG4gICAgICAvLyB2aWV3IHZlY3RvclxuICAgICAgY29uc3QgYXJyb3dIZWxwZXIgPSBoZWxwZXJzQnlFbnRpdHkudmlld1ZlY3Rvci5nZXQoZW50aXR5KSBhcyBPYmplY3QzRFxuICAgICAgRW5naW5lLnNjZW5lLnJlbW92ZShhcnJvd0hlbHBlcilcbiAgICAgIGhlbHBlcnNCeUVudGl0eS52aWV3VmVjdG9yLmRlbGV0ZShlbnRpdHkpXG5cbiAgICAgIC8vIHZlbG9jaXR5XG4gICAgICBjb25zdCB2ZWxvY2l0eUFycm93SGVscGVyID0gaGVscGVyc0J5RW50aXR5LnZlbG9jaXR5QXJyb3cuZ2V0KGVudGl0eSkgYXMgT2JqZWN0M0RcbiAgICAgIEVuZ2luZS5zY2VuZS5yZW1vdmUodmVsb2NpdHlBcnJvd0hlbHBlcilcbiAgICAgIGhlbHBlcnNCeUVudGl0eS52ZWxvY2l0eUFycm93LmRlbGV0ZShlbnRpdHkpXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgY29sbGlkZXJRdWVyeS5lbnRlcigpKSB7XG4gICAgICBjb25zdCBjb2xsaWRlciA9IGdldENvbXBvbmVudChlbnRpdHksIENvbGxpZGVyQ29tcG9uZW50KVxuICAgICAgaWYgKGlzU3RhdGljQm9keShjb2xsaWRlci5ib2R5KSkgY29udGludWVcblxuICAgICAgLy8gdmlldyB2ZWN0b3JcbiAgICAgIGNvbnN0IG9yaWdpbiA9IG5ldyBWZWN0b3IzKDAsIDIsIDApXG4gICAgICBjb25zdCBsZW5ndGggPSAwLjVcbiAgICAgIGNvbnN0IGhleCA9IDB4ZmZmZjAwXG5cbiAgICAgIGNvbnN0IGFycm93SGVscGVyID0gbmV3IEFycm93SGVscGVyKFxuICAgICAgICB2ZWN0b3IzLmNvcHkoY29sbGlkZXIuYm9keS5nZXRHbG9iYWxQb3NlKCkudHJhbnNsYXRpb24gYXMgVmVjdG9yMykubm9ybWFsaXplKCksXG4gICAgICAgIG9yaWdpbixcbiAgICAgICAgbGVuZ3RoLFxuICAgICAgICBoZXhcbiAgICAgIClcbiAgICAgIGFycm93SGVscGVyLnZpc2libGUgPSBhdmF0YXJEZWJ1Z0VuYWJsZWRcbiAgICAgIEVuZ2luZS5zY2VuZS5hZGQoYXJyb3dIZWxwZXIpXG4gICAgICBoZWxwZXJzQnlFbnRpdHkudmlld1ZlY3Rvci5zZXQoZW50aXR5LCBhcnJvd0hlbHBlcilcblxuICAgICAgLy8gdmVsb2NpdHlcbiAgICAgIGNvbnN0IHZlbG9jaXR5Q29sb3IgPSAweDAwMDBmZlxuICAgICAgY29uc3QgdmVsb2NpdHlBcnJvd0hlbHBlciA9IG5ldyBBcnJvd0hlbHBlcihuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygwLCAwLCAwKSwgMC41LCB2ZWxvY2l0eUNvbG9yKVxuICAgICAgdmVsb2NpdHlBcnJvd0hlbHBlci52aXNpYmxlID0gYXZhdGFyRGVidWdFbmFibGVkXG4gICAgICBFbmdpbmUuc2NlbmUuYWRkKHZlbG9jaXR5QXJyb3dIZWxwZXIpXG4gICAgICBoZWxwZXJzQnlFbnRpdHkudmVsb2NpdHlBcnJvdy5zZXQoZW50aXR5LCB2ZWxvY2l0eUFycm93SGVscGVyKVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGNvbGxpZGVyUXVlcnkoKSkge1xuICAgICAgLy8gdmlldyB2ZWN0b3JcbiAgICAgIGNvbnN0IGNvbGxpZGVyID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgQ29sbGlkZXJDb21wb25lbnQpXG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBnZXRDb21wb25lbnQoZW50aXR5LCBUcmFuc2Zvcm1Db21wb25lbnQpXG4gICAgICBjb25zdCBhcnJvd0hlbHBlciA9IGhlbHBlcnNCeUVudGl0eS52aWV3VmVjdG9yLmdldChlbnRpdHkpIGFzIEFycm93SGVscGVyXG5cbiAgICAgIGlmIChhcnJvd0hlbHBlciAhPSBudWxsKSB7XG4gICAgICAgIGFycm93SGVscGVyLnNldERpcmVjdGlvbihcbiAgICAgICAgICBuZXcgVmVjdG9yMygpXG4gICAgICAgICAgICAuY29weShjb2xsaWRlci5ib2R5LmdldEdsb2JhbFBvc2UoKS50cmFuc2xhdGlvbiBhcyBWZWN0b3IzKVxuICAgICAgICAgICAgLnNldFkoMClcbiAgICAgICAgICAgIC5ub3JtYWxpemUoKVxuICAgICAgICApXG4gICAgICAgIGFycm93SGVscGVyLnBvc2l0aW9uLmNvcHkodHJhbnNmb3JtLnBvc2l0aW9uKVxuICAgICAgfVxuXG4gICAgICAvLyB2ZWxvY2l0eVxuICAgICAgY29uc3QgdmVsb2NpdHlBcnJvd0hlbHBlciA9IGhlbHBlcnNCeUVudGl0eS52ZWxvY2l0eUFycm93LmdldChlbnRpdHkpIGFzIEFycm93SGVscGVyXG4gICAgICBpZiAodmVsb2NpdHlBcnJvd0hlbHBlciAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHZlbCA9IG5ldyBWZWN0b3IzKCkuY29weShjb2xsaWRlci5ib2R5LmdldExpbmVhclZlbG9jaXR5KCkgYXMgVmVjdG9yMylcbiAgICAgICAgdmVsb2NpdHlBcnJvd0hlbHBlci5zZXRMZW5ndGgodmVsLmxlbmd0aCgpICogNjApXG4gICAgICAgIHZlbG9jaXR5QXJyb3dIZWxwZXIuc2V0RGlyZWN0aW9uKHZlbC5ub3JtYWxpemUoKSlcbiAgICAgICAgdmVsb2NpdHlBcnJvd0hlbHBlci5wb3NpdGlvbi5jb3B5KHRyYW5zZm9ybS5wb3NpdGlvbilcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA9PT09PSBJTlRFUkFDVEFCTEVTID09PT09IC8vXG5cbiAgICAvLyBib3VuZGluZyBib3hcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBib3VuZGluZ0JveFF1ZXJ5LmVudGVyKCkpIHtcbiAgICAgIGhlbHBlcnNCeUVudGl0eS5ib3guc2V0KGVudGl0eSwgW10pXG4gICAgICBjb25zdCBib3VuZGluZ0JveCA9IGdldENvbXBvbmVudChlbnRpdHksIEJvdW5kaW5nQm94Q29tcG9uZW50KVxuICAgICAgY29uc3QgYm94MyA9IG5ldyBCb3gzKClcbiAgICAgIGJveDMuY29weShib3VuZGluZ0JveC5ib3gpXG4gICAgICBpZiAoYm91bmRpbmdCb3guZHluYW1pYykge1xuICAgICAgICBjb25zdCBvYmplY3QzRCA9IGdldENvbXBvbmVudChlbnRpdHksIE9iamVjdDNEQ29tcG9uZW50KVxuICAgICAgICBib3gzLmFwcGx5TWF0cml4NChvYmplY3QzRC52YWx1ZS5tYXRyaXhXb3JsZClcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhlbHBlciA9IG5ldyBCb3gzSGVscGVyKGJveDMpXG4gICAgICBoZWxwZXIudmlzaWJsZSA9IHBoeXNpY3NEZWJ1Z0VuYWJsZWRcbiAgICAgIEVuZ2luZS5zY2VuZS5hZGQoaGVscGVyKVxuICAgICAgOyhoZWxwZXJzQnlFbnRpdHkuYm94LmdldChlbnRpdHkpIGFzIE9iamVjdDNEW10pLnB1c2goaGVscGVyKVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGJvdW5kaW5nQm94UXVlcnkuZXhpdCgpKSB7XG4gICAgICBjb25zdCBib3hlcyA9IGhlbHBlcnNCeUVudGl0eS5ib3guZ2V0KGVudGl0eSkgYXMgT2JqZWN0M0RbXVxuICAgICAgYm94ZXMuZm9yRWFjaCgoYm94KSA9PiB7XG4gICAgICAgIEVuZ2luZS5zY2VuZS5yZW1vdmUoYm94KVxuICAgICAgfSlcbiAgICAgIGhlbHBlcnNCeUVudGl0eS5ib3guZGVsZXRlKGVudGl0eSlcbiAgICB9XG5cbiAgICAvLyA9PT09PSBDVVNUT00gPT09PT0gLy9cblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGFycm93SGVscGVyUXVlcnkuZW50ZXIoKSkge1xuICAgICAgY29uc3QgYXJyb3cgPSBnZXRDb21wb25lbnQoZW50aXR5LCBEZWJ1Z0Fycm93Q29tcG9uZW50KVxuICAgICAgY29uc3QgYXJyb3dIZWxwZXIgPSBuZXcgQXJyb3dIZWxwZXIobmV3IFZlY3RvcjMoKSwgbmV3IFZlY3RvcjMoMCwgMCwgMCksIDAuNSwgYXJyb3cuY29sb3IpXG4gICAgICBhcnJvd0hlbHBlci52aXNpYmxlID0gcGh5c2ljc0RlYnVnRW5hYmxlZFxuICAgICAgRW5naW5lLnNjZW5lLmFkZChhcnJvd0hlbHBlcilcbiAgICAgIGhlbHBlcnNCeUVudGl0eS5oZWxwZXJBcnJvdy5zZXQoZW50aXR5LCBhcnJvd0hlbHBlcilcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBhcnJvd0hlbHBlclF1ZXJ5LmV4aXQoKSkge1xuICAgICAgY29uc3QgYXJyb3dIZWxwZXIgPSBoZWxwZXJzQnlFbnRpdHkuaGVscGVyQXJyb3cuZ2V0KGVudGl0eSkgYXMgT2JqZWN0M0RcbiAgICAgIEVuZ2luZS5zY2VuZS5yZW1vdmUoYXJyb3dIZWxwZXIpXG4gICAgICBoZWxwZXJzQnlFbnRpdHkuaGVscGVyQXJyb3cuZGVsZXRlKGVudGl0eSlcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBhcnJvd0hlbHBlclF1ZXJ5KCkpIHtcbiAgICAgIGNvbnN0IGFycm93ID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgRGVidWdBcnJvd0NvbXBvbmVudClcbiAgICAgIGNvbnN0IGFycm93SGVscGVyID0gaGVscGVyc0J5RW50aXR5LmhlbHBlckFycm93LmdldChlbnRpdHkpIGFzIEFycm93SGVscGVyXG4gICAgICBpZiAoYXJyb3dIZWxwZXIgIT0gbnVsbCkge1xuICAgICAgICBhcnJvd0hlbHBlci5zZXREaXJlY3Rpb24oYXJyb3cuZGlyZWN0aW9uLmNsb25lKCkubm9ybWFsaXplKCkpXG4gICAgICAgIGFycm93SGVscGVyLnNldExlbmd0aChhcnJvdy5kaXJlY3Rpb24ubGVuZ3RoKCkpXG4gICAgICAgIGFycm93SGVscGVyLnBvc2l0aW9uLmNvcHkoYXJyb3cucG9zaXRpb24pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gPT09PT0gTkFWTUVTSCBIZWxwZXIgPT09PT0gLy9cbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBuYXZtZXNoUXVlcnkuZW50ZXIoKSkge1xuICAgICAgY29uc29sZS5sb2coJ2FkZCBuYXZtZXNoIGhlbHBlciEnKVxuICAgICAgY29uc3QgbmF2TWVzaCA9IGdldENvbXBvbmVudChlbnRpdHksIE5hdk1lc2hDb21wb25lbnQpPy55dWthTmF2TWVzaFxuICAgICAgY29uc3QgY29udmV4SGVscGVyID0gY3JlYXRlQ29udmV4UmVnaW9uSGVscGVyKG5hdk1lc2gpXG4gICAgICBjb25zdCBncmFwaEhlbHBlciA9IGNyZWF0ZUdyYXBoSGVscGVyKG5hdk1lc2guZ3JhcGgsIDAuMilcbiAgICAgIGNvbnN0IGhlbHBlciA9IG5ldyBHcm91cCgpXG4gICAgICBoZWxwZXIuYWRkKGNvbnZleEhlbHBlcilcbiAgICAgIGhlbHBlci5hZGQoZ3JhcGhIZWxwZXIpXG4gICAgICBjb25zb2xlLmxvZygnbmF2aGVscGVyJywgaGVscGVyKVxuICAgICAgRW5naW5lLnNjZW5lLmFkZChoZWxwZXIpXG4gICAgICBoZWxwZXJzQnlFbnRpdHkubmF2bWVzaC5zZXQoZW50aXR5LCBoZWxwZXIpXG4gICAgfVxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIG5hdm1lc2hRdWVyeSgpKSB7XG4gICAgICAvLyB1cGRhdGVcbiAgICAgIGNvbnN0IGhlbHBlciA9IGhlbHBlcnNCeUVudGl0eS5uYXZtZXNoLmdldChlbnRpdHkpIGFzIE9iamVjdDNEXG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBnZXRDb21wb25lbnQoZW50aXR5LCBUcmFuc2Zvcm1Db21wb25lbnQpXG4gICAgICBoZWxwZXIucG9zaXRpb24uY29weSh0cmFuc2Zvcm0ucG9zaXRpb24pXG4gICAgICAvLyBoZWxwZXIucXVhdGVybmlvbi5jb3B5KHRyYW5zZm9ybS5yb3RhdGlvbilcbiAgICB9XG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgbmF2bWVzaFF1ZXJ5LmV4aXQoKSkge1xuICAgICAgY29uc3QgaGVscGVyID0gaGVscGVyc0J5RW50aXR5Lm5hdm1lc2guZ2V0KGVudGl0eSkgYXMgT2JqZWN0M0RcbiAgICAgIEVuZ2luZS5zY2VuZS5yZW1vdmUoaGVscGVyKVxuICAgICAgaGVscGVyc0J5RW50aXR5Lm5hdm1lc2guZGVsZXRlKGVudGl0eSlcbiAgICB9XG4gICAgLy8gPT09PT0gQXV0b3BpbG90IEhlbHBlciA9PT09PSAvL1xuICAgIC8vIFRPRE8gYWRkIGNyZWF0ZVBhdGhIZWxwZXIgZm9yIG5hdnBhdGhRdWVyeVxuXG4gICAgcGh5c2ljc0RlYnVnUmVuZGVyZXIod29ybGQsIHBoeXNpY3NEZWJ1Z0VuYWJsZWQpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJJY29zYWhlZHJvbkJ1ZmZlckdlb21ldHJ5IiwiU3BoZXJlQnVmZmVyR2VvbWV0cnkiLCJCb3hCdWZmZXJHZW9tZXRyeSIsIlBsYW5lQnVmZmVyR2VvbWV0cnkiLCJDb25lQnVmZmVyR2VvbWV0cnkiLCJkZWZpbmVRdWVyeSJdLCJtYXBwaW5ncyI6InN5QkFNQSxZQUFtQyxFQUFVLENBRTVDLEtBQU0sR0FBVSxFQUFRLFFBRWxCLEVBQVcsR0FBSSxHQUNmLEVBQVcsR0FBSSxHQUFtQixDQUFFLGFBQWMsS0FFbEQsRUFBTyxHQUFJLEdBQU0sRUFBVSxHQUUzQixFQUFZLEdBQ1osRUFBUyxHQUVULEVBQVEsR0FBSSxHQUVsQixPQUFVLEtBQVUsR0FBVSxDQUk3QixFQUFNLE9BQVEsS0FBSyxTQUFXLFVBSTlCLEdBQUksR0FBTyxFQUFPLEtBQ2xCLEtBQU0sR0FBUSxHQUVkLEVBRUMsR0FBTSxLQUFNLEdBRVosRUFBTyxFQUFLLFdBRUgsSUFBUyxFQUFPLE1BSTFCLEtBQU0sR0FBa0IsRUFBTSxPQUFTLEVBRXZDLE9BQVUsR0FBSSxFQUFHLEVBQUksRUFBZSxHQUFLLEVBQUcsSUFBTyxDQUVsRCxLQUFNLEdBQUssRUFBTyxHQUFJLE9BQ2hCLEVBQUssRUFBTyxFQUFJLEdBQUksT0FDcEIsRUFBSyxFQUFPLEVBQUksR0FBSSxPQUUxQixFQUFVLEtBQU0sRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdB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
