import{_ as c}from"./index.7b02be28.js";import{E as s,c as m,d as y,g as u}from"./avatarFunctions.6d66cf01.js";import"./vendor.475cb2ff.js";import"./three.module.493739a3.js";class e{constructor(a){this.ethereal=a,this.layoutSystem=this.ethereal.createLayoutSystem(s.camera)}static instance;layoutSystem}const o=m("XRUIComponent");async function S(t){e.instance=new e(await c(()=>import("./ethereal.es.379164bd.js"),["assets/ethereal.es.379164bd.js","assets/three.module.493739a3.js"]));const a=y([o]);return()=>{const r=[];for(const i of a(t)){const n=u(i,o).layer;n.interactionRays=r,e.instance.layoutSystem.nodeAdapters.has(n)||n.update()}e.instance.layoutSystem.viewFrustum.setFromPerspectiveProjectionMatrix(s.camera.projectionMatrix),s.renderer.getSize(e.instance.layoutSystem.viewResolution),e.instance.layoutSystem.update(t.delta,t.elapsedTime)}}export{S as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiWFJVSVN5c3RlbS45ZGU3NDQyZC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vZW5naW5lL3NyYy94cnVpL2NsYXNzZXMvWFJVSU1hbmFnZXIudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3hydWkvY29tcG9uZW50cy9YUlVJQ29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy94cnVpL3N5c3RlbXMvWFJVSVN5c3RlbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbmdpbmUnXG5cbmV4cG9ydCBjbGFzcyBYUlVJTWFuYWdlciB7XG4gIHN0YXRpYyBpbnN0YW5jZTogWFJVSU1hbmFnZXJcbiAgY29uc3RydWN0b3IocHVibGljIGV0aGVyZWFsOiB0eXBlb2YgaW1wb3J0KCdldGhlcmVhbCcpKSB7XG4gICAgdGhpcy5sYXlvdXRTeXN0ZW0gPSB0aGlzLmV0aGVyZWFsLmNyZWF0ZUxheW91dFN5c3RlbShFbmdpbmUuY2FtZXJhKVxuICB9XG4gIGxheW91dFN5c3RlbTogaW1wb3J0KCdldGhlcmVhbCcpLkV0aGVyZWFsTGF5b3V0U3lzdGVtXG59XG4iLCJpbXBvcnQgeyBXZWJMYXllcjNEIH0gZnJvbSAnZXRoZXJlYWwnXG5pbXBvcnQgeyBjcmVhdGVNYXBwZWRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcblxuZXhwb3J0IHR5cGUgWFJVSUNvbXBvbmVudFR5cGUgPSB7XG4gIGxheWVyOiBXZWJMYXllcjNEXG59XG5cbmV4cG9ydCBjb25zdCBYUlVJQ29tcG9uZW50ID0gY3JlYXRlTWFwcGVkQ29tcG9uZW50PFhSVUlDb21wb25lbnRUeXBlPignWFJVSUNvbXBvbmVudCcpXG4iLCJpbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbmdpbmUnXG5pbXBvcnQgeyBTeXN0ZW0gfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9TeXN0ZW0nXG5pbXBvcnQgeyBXb3JsZCB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL1dvcmxkJ1xuaW1wb3J0IHsgZGVmaW5lUXVlcnksIGdldENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuaW1wb3J0IHsgWFJVSU1hbmFnZXIgfSBmcm9tICcuLi9jbGFzc2VzL1hSVUlNYW5hZ2VyJ1xuaW1wb3J0IHsgWFJVSUNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvWFJVSUNvbXBvbmVudCdcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gWFJVSVN5c3RlbSh3b3JsZDogV29ybGQpOiBQcm9taXNlPFN5c3RlbT4ge1xuICBYUlVJTWFuYWdlci5pbnN0YW5jZSA9IG5ldyBYUlVJTWFuYWdlcihhd2FpdCBpbXBvcnQoJ2V0aGVyZWFsJykpXG5cbiAgY29uc3QgdWlRdWVyeSA9IGRlZmluZVF1ZXJ5KFtYUlVJQ29tcG9uZW50XSlcblxuICAvLyBjb25zdCBhZGFwdGVyUXVlcnkgPSBkZWZpbmVRdWVyeShbT2JqZWN0M0RDb21wb25lbnQsIFhSVUlBZGFwdGVyQ29tcG9uZW50XSlcbiAgLy8gY29uc3QgYWRhcHRlckFkZFF1ZXJ5ID0gZW50ZXJRdWVyeShhZGFwdGVyUXVlcnkpXG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBjb25zdCBpbnRlcmFjdGlvblJheXMgPSBbXVxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdWlRdWVyeSh3b3JsZCkpIHtcbiAgICAgIGNvbnN0IGxheWVyID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgWFJVSUNvbXBvbmVudCkubGF5ZXJcbiAgICAgIGxheWVyLmludGVyYWN0aW9uUmF5cyA9IGludGVyYWN0aW9uUmF5c1xuICAgICAgaWYgKCFYUlVJTWFuYWdlci5pbnN0YW5jZS5sYXlvdXRTeXN0ZW0ubm9kZUFkYXB0ZXJzLmhhcyhsYXllcikpIGxheWVyLnVwZGF0ZSgpXG4gICAgfVxuXG4gICAgLy8gZm9yIChjb25zdCBlbnRpdHkgb2YgYWRhcHRlckFkZFF1ZXJ5KHdvcmxkKSkge1xuICAgIC8vICAgY29uc3QgeHJ1aSA9IGdldENvbXBvbmVudChlbnRpdHksIFhSVUlDb21wb25lbnQpXG4gICAgLy8gICBjb25zdCBvYmplY3QgPSBPYmplY3QzRENvbXBvbmVudC5nZXQoZW50aXR5KS52YWx1ZVxuICAgIC8vICAgY29uc3QgYWRhcHRlciA9IFhSVUlNYW5hZ2VyLmluc3RhbmNlLmxheW91dFN5c3RlbS5nZXRBZGFwdGVyKG9iamVjdClcbiAgICAvLyAgIGFkYXB0ZXIub25VcGRhdGUgPSAoKSA9PiB7XG4gICAgLy8gICAgIGlmICh4cnVpKSB4cnVpLmxheWVyLnVwZGF0ZSgpXG4gICAgLy8gICB9XG4gICAgLy8gfVxuXG4gICAgWFJVSU1hbmFnZXIuaW5zdGFuY2UubGF5b3V0U3lzdGVtLnZpZXdGcnVzdHVtLnNldEZyb21QZXJzcGVjdGl2ZVByb2plY3Rpb25NYXRyaXgoRW5naW5lLmNhbWVyYS5wcm9qZWN0aW9uTWF0cml4KVxuICAgIEVuZ2luZS5yZW5kZXJlci5nZXRTaXplKFhSVUlNYW5hZ2VyLmluc3RhbmNlLmxheW91dFN5c3RlbS52aWV3UmVzb2x1dGlvbilcbiAgICBYUlVJTWFuYWdlci5pbnN0YW5jZS5sYXlvdXRTeXN0ZW0udXBkYXRlKHdvcmxkLmRlbHRhLCB3b3JsZC5lbGFwc2VkVGltZSlcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJzTEFFeUIsQ0FFdkIsWUFBbUIsRUFBcUMsc0JBQ2pELGFBQWUsS0FBSyxTQUFTLG1CQUFtQixFQUFPLGNBRnZELFVBSVAsa0JDQVcsR0FBZ0IsRUFBeUMsa0NDQTdCLEVBQStCLEdBQzFELFNBQVcsR0FBSSxHQUFZLEtBQU0scUVBRXZDLEdBQVUsRUFBWSxDQUFDLFVBS3RCLElBQU0sTUFDTCxHQUFrQixZQUViLEtBQVUsR0FBUSxHQUFRLE1BQzdCLEdBQVEsRUFBYSxFQUFRLEdBQWUsUUFDNUMsZ0JBQWtCLEVBQ25CLEVBQVksU0FBUyxhQUFhLGFBQWEsSUFBSSxNQUFjLFdBWTVELFNBQVMsYUFBYSxZQUFZLG1DQUFtQyxFQUFPLE9BQU8sb0JBQ3hGLFNBQVMsUUFBUSxFQUFZLFNBQVMsYUFBYSxrQkFDOUMsU0FBUyxhQUFhLE9BQU8sRUFBTSxNQUFPLEVBQU0ifQ==
